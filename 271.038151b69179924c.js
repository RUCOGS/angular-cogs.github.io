"use strict";(self.webpackChunkrucogs_website=self.webpackChunkrucogs_website||[]).push([[271],{6410:(ue,q,m)=>{m.d(q,{h:()=>L});var e=m(4537),v=m(8692);function G(I,x){1&I&&e._UZ(0,"div",3)}const T=function(I){return{"full-page":I}},D=["*"];let L=(()=>{class I{constructor(M){this.color="blank",this.fullPage=null!=M}ngOnInit(){}}return I.\u0275fac=function(M){return new(M||I)(e.$8M("full-page"))},I.\u0275cmp=e.Xpm({type:I,selectors:[["app-bg-container"]],inputs:{color:"color"},ngContentSelectors:D,decls:4,vars:7,consts:[[1,"app-bg-container","bg",3,"ngClass"],[1,"app-bg-container","content"],["style","\n    flex: 1;\n  ",4,"ngIf"],[2,"flex","1"]],template:function(M,R){1&M&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.YNc(3,G,1,0,"div",2),e.qZA()),2&M&&(e.Tol(R.color),e.Q6J("ngClass",e.VKq(5,T,R.fullPage)),e.xp6(3),e.Q6J("ngIf",R.fullPage))},dependencies:[v.mk,v.O5],styles:["[_nghost-%COMP%]{flex:1 1 auto}.bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;box-sizing:border-box;padding:var(--content-padding);z-index:1}.content[_ngcontent-%COMP%]{height:100%;display:block;margin:auto;width:100%;max-width:var(--content-width)}.full-page[_ngcontent-%COMP%]{min-height:100vh}"]}),I})()},4022:(ue,q,m)=>{m.d(q,{l:()=>O});var e=m(7165),v=m(8692),G=m(92),T=m(9638),D=m(8659),L=m(3331),I=m(7406),x=m(3451),M=m(411),R=m(7187),B=m(7950),K=m(6004),W=m(5208),_=(m(2272),m(4537));let O=(()=>{class k{}return k.\u0275fac=function(w){return new(w||k)},k.\u0275mod=_.oAB({type:k}),k.\u0275inj=_.cJS({imports:[v.ez,M.As,T.ot,L.Ps,W.o,R.w,x.z9,K.m,e._t,B.c,I.c,D.lN,G.u5]}),k})()},2272:(ue,q,m)=>{m.d(q,{J:()=>b});var e=m(8659),v=m(4583),G=m(7117),T=m(7187),D=m(4537),L=m(5208),I=m(8954),x=m(92),M=m(8692),R=m(9638),B=m(3331);function K(_,O){if(1&_&&D._UZ(0,"img",7),2&_){const k=D.oxw();D.Q6J("src",k.imageSrc,D.LSH)}}function W(_,O){if(1&_){const k=D.EpF();D.TgZ(0,"button",5),D.NdJ("click",function(){D.CHM(k);const w=D.oxw();return D.KtG(w.onDeleteClicked())}),D.TgZ(1,"mat-icon"),D._uU(2,"delete"),D.qZA()()}if(2&_){const k=D.oxw();D.Q6J("disabled",k.monitor.isProcessing||k.disabled)}}let b=(()=>{class _ extends T.Y{constructor(k,y,w,C,E){super(w,C,E),this.uiMessageService=k,this.changeDetector=y,this.fileSizeLimit="10 MB",this.imageSrc="",this.edited=!1,this.monitor=new v.y,this.fileSizeLimitBytes=0}ngOnInit(){this.fileSizeLimit.split(" "),this.fileSizeLimitBytes=G.P.byteStringToBytes(this.fileSizeLimit)}init(k){this.imageSrc=k,this.edited=!1,this.value=null}onDeleteClicked(){this.value=null,this.edited=!0,this.imageSrc=""}onImageFileChanged(k){const y=k.target.files[0];y&&(this.monitor.addProcess(),this.changeDetector.detectChanges(),G.P.readAsBase64(y).then(w=>{const C=y.size;C<this.fileSizeLimitBytes?(this.value=y,this.imageSrc=w,this.edited=!0):this.uiMessageService.error(`File size is too big! ${G.P.byteSizeToString(C)} > ${G.P.byteSizeToString(this.fileSizeLimitBytes)}`)}).catch(w=>{console.log(w)}).finally(()=>{this.monitor.removeProcess()}))}}return _.\u0275fac=function(k){return new(k||_)(D.Y36(L.S),D.Y36(D.sBO),D.Y36(I.tE),D.Y36(D.SBq),D.Y36(x.a5,10))},_.\u0275cmp=D.Xpm({type:_,selectors:[["app-image-upload"]],inputs:{fileSizeLimit:"fileSizeLimit",imageSrc:"imageSrc",edited:"edited"},features:[D._Bn([{provide:e.Eo,useExisting:_}]),D.qOj],decls:9,vars:3,consts:[["class","app-image-upload image",3,"src",4,"ngIf"],[1,"app-image-upload","tint"],["type","file","accept","image/png, image/jpeg, image/gif",2,"display","none",3,"change"],["imageFileInput",""],[2,"display","flex","gap","4px"],["mat-icon-button","",1,"app-image-upload","edit-button",3,"disabled","click"],["mat-icon-button","","class","app-image-upload edit-button",3,"disabled","click",4,"ngIf"],[1,"app-image-upload","image",3,"src"]],template:function(k,y){if(1&k){const w=D.EpF();D.YNc(0,K,1,1,"img",0),D._UZ(1,"div",1),D.TgZ(2,"input",2,3),D.NdJ("change",function(E){return y.onImageFileChanged(E)}),D.qZA(),D.TgZ(4,"div",4)(5,"button",5),D.NdJ("click",function(){D.CHM(w);const E=D.MAs(3);return D.KtG(E.click())}),D.TgZ(6,"mat-icon"),D._uU(7,"edit"),D.qZA()(),D.YNc(8,W,3,1,"button",6),D.qZA()}2&k&&(D.Q6J("ngIf",y.imageSrc),D.xp6(5),D.Q6J("disabled",y.monitor.isProcessing||y.disabled),D.xp6(3),D.Q6J("ngIf",y.imageSrc))},dependencies:[M.O5,R.lW,B.Hw],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;border-radius:inherit}.tint[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#000;opacity:.5;border-radius:inherit}.edit-button[_ngcontent-%COMP%]{color:#fff}"]}),_})()},2842:(ue,q,m)=>{m.d(q,{K:()=>k});var e=m(5436),v=m(4537),G=m(92),T=m(1927),D=m(7969),L=m(3176),I=m(8692),x=m(7084),M=m(1379),R=m(1637),B=m(8659),K=m(3331);const W=["roleInput"];function b(y,w){if(1&y&&(v.TgZ(0,"mat-label"),v._uU(1),v.qZA()),2&y){const C=v.oxw();v.xp6(1),v.Oqu(C.label)}}function _(y,w){if(1&y){const C=v.EpF();v.TgZ(0,"mat-chip",10),v.NdJ("removed",function(){const N=v.CHM(C).$implicit,U=v.oxw();return v.KtG(U.onRemoveRole(N))}),v._uU(1),v.TgZ(2,"button",11)(3,"mat-icon"),v._uU(4,"cancel"),v.qZA()()()}if(2&y){const C=w.$implicit,E=v.oxw();v.Q6J("disabled",E.disabledRoles.includes(C)),v.xp6(1),v.hij(" ",E.getRoleData(C).name," ")}}function O(y,w){if(1&y&&(v.TgZ(0,"mat-option",12),v._uU(1),v.qZA()),2&y){const C=w.$implicit,E=v.oxw();v.Q6J("value",C),v.xp6(1),v.hij(" ",E.getRoleData(C).name," ")}}let k=(()=>{class y{constructor(){this.rolesEdited=new v.vpe,this.label="",this.roles=[],this.allRoles=[],this.disabledRoles=[],this.disabled=!1,this.separatorKeysCodes=[e.K5,e.OC],this.roleControl=new G.p4,this.filteredRoles=this.roleControl.valueChanges.pipe((0,T.O)(null),(0,D.U)(C=>this._filter(C)))}ngOnInit(){}onRemoveRole(C){const E=this.roles.indexOf(C);E>=0&&(this.roles.splice(E,1),this.rolesEdited.emit()),this.roleControl.setValue(null)}onAddRoleChip(C){const E=(C.value||"").trim();this.validateNewRole(E)&&(this.roles.push(E),this.rolesEdited.emit()),C.chipInput.clear(),this.roleControl.setValue(null)}onRoleAutoSelected(C){!this.validateNewRole(C.option.value)||(this.roles.push(C.option.value),this.roleInput.nativeElement.value="",this.roleControl.setValue(null),this.rolesEdited.emit())}getRoleData(C){return L.Kh[C]}validateNewRole(C){return this.allRoles.includes(C)&&!this.roles.includes(C)}_filter(C){let E=this.allRoles.filter(A=>!this.roles.includes(A));if(C){const A=C.toLowerCase();return E.filter(N=>N.toLowerCase().includes(A))}return E}}return y.\u0275fac=function(C){return new(C||y)},y.\u0275cmp=v.Xpm({type:y,selectors:[["app-role-codes-editor"]],viewQuery:function(C,E){if(1&C&&v.Gf(W,5),2&C){let A;v.iGM(A=v.CRH())&&(E.roleInput=A.first)}},inputs:{label:"label",roles:"roles",allRoles:"allRoles",disabledRoles:"disabledRoles",disabled:"disabled"},outputs:{rolesEdited:"rolesEdited"},decls:11,vars:10,consts:[["appearance","outline",2,"width","100%"],[4,"ngIf"],["aria-label","Role selection",3,"disabled"],["roleChipList",""],[3,"disabled","removed",4,"ngFor","ngForOf"],["placeholder","New role...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["roleInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"disabled","removed"],["matChipRemove",""],[3,"value"]],template:function(C,E){if(1&C&&(v.TgZ(0,"mat-form-field",0),v.YNc(1,b,2,1,"mat-label",1),v.TgZ(2,"mat-chip-list",2,3),v.YNc(4,_,5,2,"mat-chip",4),v.TgZ(5,"input",5,6),v.NdJ("matChipInputTokenEnd",function(N){return E.onAddRoleChip(N)}),v.qZA()(),v.TgZ(7,"mat-autocomplete",7,8),v.NdJ("optionSelected",function(N){return E.onRoleAutoSelected(N)}),v.YNc(9,O,2,2,"mat-option",9),v.ALo(10,"async"),v.qZA()()),2&C){const A=v.MAs(3),N=v.MAs(8);v.xp6(1),v.Q6J("ngIf",E.label),v.xp6(1),v.Q6J("disabled",E.disabled),v.xp6(2),v.Q6J("ngForOf",E.roles),v.xp6(1),v.Q6J("formControl",E.roleControl)("matAutocomplete",N)("matChipInputFor",A)("matChipInputSeparatorKeyCodes",E.separatorKeysCodes),v.xp6(4),v.Q6J("ngForOf",v.lcZ(10,8,E.filteredRoles))}},dependencies:[I.sg,I.O5,x.qn,x.HS,x.oH,x.qH,M.ey,R.XC,R.ZL,B.KE,B.hX,G.Fj,G.JJ,G.oH,K.Hw,I.Ov]}),y})()},411:(ue,q,m)=>{m.d(q,{As:()=>G});var e=m(8692),v=m(4537);let G=(()=>{class T{}return T.\u0275fac=function(L){return new(L||T)},T.\u0275mod=v.oAB({type:T}),T.\u0275inj=v.cJS({imports:[e.ez]}),T})()},7117:(ue,q,m)=>{m.d(q,{P:()=>v});var e=(()=>{return(G=e||(e={}))[G.GB=1e9]="GB",G[G.MB=1e6]="MB",G[G.KB=1e3]="KB",G[G.B=1]="B",e;var G})();class v{static byteSizeToString(T){return T>e.GB?`${this.byteTo(T,e.GB)} GB`:T>e.MB?`${this.byteTo(T,e.MB)} MB`:T>e.KB?`${this.byteTo(T,e.KB)} KB`:"byteSize B"}static byteStringToBytes(T){const D=T.split(" ");let L=parseFloat(D[0]);switch(D[1].toUpperCase()){case"GB":L*=1e9;break;case"MB":L*=1e6;break;case"KB":L*=1e3}return L}static readAsBase64(T){const D=new FileReader;return new Promise((I,x)=>{D.addEventListener("load",()=>{const M=D.result;return M?I(M):x("Cannot read file as base64.")}),D.addEventListener("error",M=>x(M)),D.readAsDataURL(T)})}static base64ToByteSize(T){return 4*T.replace("=","").length/3}static byteTo(T,D){return T/D}}},9860:(ue,q,m)=>{function e(x,M){return(x%M+M)%M}function v(x,M,R){const B=[];for(let K=0;K<R;K++){const W=e(M+K,x.length);B.push(x[W])}return B}function G(x,M){if(x===M)return!0;if(null==x||null==M||x.length!==M.length)return!1;for(var R=0;R<x.length;++R)if(x[R]!==M[R])return!1;return!0}function T(x,M,R){return x&&M?(x<M?-1:1)*(R?1:-1):0}function D(x){return JSON.parse(JSON.stringify(x))}m.d(q,{DQ:()=>e,I8:()=>D,Xl:()=>v,cO:()=>G,qu:()=>T})},7165:(ue,q,m)=>{m.d(q,{Zt:()=>st,Bh:()=>et,Wj:()=>Ge,_t:()=>Ye,bA:()=>Me});var e=m(4537),v=m(8692),G=m(5531),T=m(6321),D=m(4929),L=m(8954),I=m(6523),x=m(7878),R=m(8023),B=m(4813),K=m(9239),W=m(818),b=m(1860),_=m(3528),O=m(1927),k=m(7969),y=m(5598),w=m(8168),C=m(1528),E=m(5875);function A(u,o,t){for(let r in o)if(o.hasOwnProperty(r)){const l=o[r];l?u.setProperty(r,l,t?.has(r)?"important":""):u.removeProperty(r)}return u}function N(u,o){const t=o?"":"none";A(u.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function U(u,o,t){A(u.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},t)}function Z(u,o){return o&&"none"!=o?u+" "+o:u}function J(u){const o=u.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(u)*o}function se(u,o){return u.getPropertyValue(o).split(",").map(r=>r.trim())}function j(u){const o=u.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function oe(u,o,t){const{top:r,bottom:l,left:d,right:f}=u;return t>=r&&t<=l&&o>=d&&o<=f}function Q(u,o,t){u.top+=o,u.bottom=u.top+u.height,u.left+=t,u.right=u.left+u.width}function ae(u,o,t,r){const{top:l,right:d,bottom:f,left:g,width:P,height:F}=u,z=P*o,V=F*o;return r>l-V&&r<f+V&&t>g-z&&t<d+z}class ee{constructor(o){this._document=o,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:j(t)})})}handleScroll(o){const t=(0,T.sA)(o),r=this.positions.get(t);if(!r)return null;const l=r.scrollPosition;let d,f;if(t===this._document){const F=this.getViewportScrollPosition();d=F.top,f=F.left}else d=t.scrollTop,f=t.scrollLeft;const g=l.top-d,P=l.left-f;return this.positions.forEach((F,z)=>{F.clientRect&&t!==z&&t.contains(z)&&Q(F.clientRect,g,P)}),l.top=d,l.left=f,{top:g,left:P}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function fe(u){const o=u.cloneNode(!0),t=o.querySelectorAll("[id]"),r=u.nodeName.toLowerCase();o.removeAttribute("id");for(let l=0;l<t.length;l++)t[l].removeAttribute("id");return"canvas"===r?Ee(u,o):("input"===r||"select"===r||"textarea"===r)&&Ze(u,o),Se("canvas",u,o,Ee),Se("input, textarea, select",u,o,Ze),o}function Se(u,o,t,r){const l=o.querySelectorAll(u);if(l.length){const d=t.querySelectorAll(u);for(let f=0;f<l.length;f++)r(l[f],d[f])}}let He=0;function Ze(u,o){"file"!==o.type&&(o.value=u.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${He++}`)}function Ee(u,o){const t=o.getContext("2d");if(t)try{t.drawImage(u,0,0)}catch{}}const Ne=(0,T.i$)({passive:!0}),Pe=(0,T.i$)({passive:!1}),Oe=new Set(["position"]);class We{constructor(o,t,r,l,d,f){this._config=t,this._document=r,this._ngZone=l,this._viewportRuler=d,this._dragDropRegistry=f,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new R.x,this._pointerMoveSubscription=B.w0.EMPTY,this._pointerUpSubscription=B.w0.EMPTY,this._scrollSubscription=B.w0.EMPTY,this._resizeSubscription=B.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new R.x,this.started=new R.x,this.released=new R.x,this.ended=new R.x,this.entered=new R.x,this.exited=new R.x,this.dropped=new R.x,this.moved=this._moveEvents,this._pointerDown=g=>{if(this.beforeStarted.next(),this._handles.length){const P=this._getTargetHandle(g);P&&!this._disabledHandles.has(P)&&!this.disabled&&this._initializeDragSequence(P,g)}else this.disabled||this._initializeDragSequence(this._rootElement,g)},this._pointerMove=g=>{const P=this._getPointerPositionOnPage(g);if(!this._hasStartedDragging){if(Math.abs(P.x-this._pickupPositionOnPage.x)+Math.abs(P.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const _e=Date.now()>=this._dragStartTime+this._getDragStartDelay(g),pe=this._dropContainer;if(!_e)return void this._endDragSequence(g);(!pe||!pe.isDragging()&&!pe.isReceiving())&&(g.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(g)))}return}g.preventDefault();const F=this._getConstrainedPointerPosition(P);if(this._hasMoved=!0,this._lastKnownPointerPosition=P,this._updatePointerDirectionDelta(F),this._dropContainer)this._updateActiveDropContainer(F,P);else{const z=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,V=this._activeTransform;V.x=F.x-z.x+this._passiveTransform.x,V.y=F.y-z.y+this._passiveTransform.y,this._applyRootElementTransform(V.x,V.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:F,event:g,distance:this._getDragDistance(F),delta:this._pointerDirectionDelta})})},this._pointerUp=g=>{this._endDragSequence(g)},this._nativeDragStart=g=>{if(this._handles.length){const P=this._getTargetHandle(g);P&&!this._disabledHandles.has(P)&&!this.disabled&&g.preventDefault()}else this.disabled||g.preventDefault()},this.withRootElement(o).withParent(t.parentDragRef||null),this._parentPositions=new ee(r),f.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){const t=(0,D.Ig)(o);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(r=>N(r,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(r=>(0,D.fI)(r)),this._handles.forEach(r=>N(r,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&t.add(r)}),this._disabledHandles=t,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const t=(0,D.fI)(o);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Pe),t.addEventListener("touchstart",this._pointerDown,Ne),t.addEventListener("dragstart",this._nativeDragStart,Pe)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?(0,D.fI)(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),N(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),N(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){ne(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const r=this._rootElement,l=r.parentNode,d=this._placeholder=this._createPlaceholderElement(),f=this._anchor=this._anchor||this._document.createComment(""),g=this._getShadowRoot();l.insertBefore(f,r),this._initialTransform=r.style.transform||"",this._preview=this._createPreviewElement(),U(r,!1,Oe),this._document.body.appendChild(l.replaceChild(d,r)),this._getPreviewInsertionPoint(l,g).appendChild(this._preview),this.started.next({source:this,event:o}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(o,t){this._parentDragRef&&t.stopPropagation();const r=this.isDragging(),l=ne(t),d=!l&&0!==t.button,f=this._rootElement,g=(0,T.sA)(t),P=!l&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),F=l?(0,L.yG)(t):(0,L.X6)(t);if(g&&g.draggable&&"mousedown"===t.type&&t.preventDefault(),r||d||P||F)return;if(this._handles.length){const re=f.style;this._rootElementTapHighlight=re.webkitTapHighlightColor||"",re.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(re=>this._updateOnScroll(re)),this._boundaryElement&&(this._boundaryRect=j(this._boundaryElement));const z=this._previewTemplate;this._pickupPositionInElement=z&&z.template&&!z.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,o,t);const V=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:V.x,y:V.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(o){U(this._rootElement,!0,Oe),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,r=t.getItemIndex(this),l=this._getPointerPositionOnPage(o),d=this._getDragDistance(l),f=t._isOverContainer(l.x,l.y);this.ended.next({source:this,distance:d,dropPoint:l,event:o}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:f,distance:d,dropPoint:l,event:o}),t.drop(this,r,this._initialIndex,this._initialContainer,f,d,l),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:t},{x:r,y:l}){let d=this._initialContainer._getSiblingContainerFromPosition(this,o,t);!d&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,t)&&(d=this._initialContainer),d&&d!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=d,this._dropContainer.enter(this,o,t,d===this._initialContainer&&d.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:d,currentIndex:d.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,l),this._dropContainer._sortItem(this,o,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,t):this._applyPreviewTransform(o-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,t=this.previewClass,r=o?o.template:null;let l;if(r&&o){const d=o.matchSize?this._initialClientRect:null,f=o.viewContainer.createEmbeddedView(r,o.context);f.detectChanges(),l=xe(f,this._document),this._previewRef=f,o.matchSize?ke(l,d):l.style.transform=he(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else l=fe(this._rootElement),ke(l,this._initialClientRect),this._initialTransform&&(l.style.transform=this._initialTransform);return A(l.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Oe),N(l,!1),l.classList.add("cdk-drag-preview"),l.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(d=>l.classList.add(d)):l.classList.add(t)),l}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const t=function ie(u){const o=getComputedStyle(u),t=se(o,"transition-property"),r=t.find(g=>"transform"===g||"all"===g);if(!r)return 0;const l=t.indexOf(r),d=se(o,"transition-duration"),f=se(o,"transition-delay");return J(d[l])+J(f[l])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{const l=f=>{(!f||(0,T.sA)(f)===this._preview&&"transform"===f.propertyName)&&(this._preview?.removeEventListener("transitionend",l),r(),clearTimeout(d))},d=setTimeout(l,1.5*t);this._preview.addEventListener("transitionend",l)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,t=o?o.template:null;let r;return t?(this._placeholderRef=o.viewContainer.createEmbeddedView(t,o.context),this._placeholderRef.detectChanges(),r=xe(this._placeholderRef,this._document)):r=fe(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(o,t,r){const l=t===this._rootElement?null:t,d=l?l.getBoundingClientRect():o,f=ne(r)?r.targetTouches[0]:r,g=this._getViewportScrollPosition();return{x:d.left-o.left+(f.pageX-d.left-g.left),y:d.top-o.top+(f.pageY-d.top-g.top)}}_getPointerPositionOnPage(o){const t=this._getViewportScrollPosition(),r=ne(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,l=r.pageX-t.left,d=r.pageY-t.top;if(this._ownerSVGElement){const f=this._ownerSVGElement.getScreenCTM();if(f){const g=this._ownerSVGElement.createSVGPoint();return g.x=l,g.y=d,g.matrixTransform(f.inverse())}}return{x:l,y:d}}_getConstrainedPointerPosition(o){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:r,y:l}=this.constrainPosition?this.constrainPosition(o,this,this._initialClientRect):o;if("x"===this.lockAxis||"x"===t?l=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===t)&&(r=this._pickupPositionOnPage.x),this._boundaryRect){const{x:d,y:f}=this._pickupPositionInElement,g=this._boundaryRect,{width:P,height:F}=this._getPreviewRect(),z=g.top+f,V=g.bottom-(F-f);r=ye(r,g.left+d,g.right-(P-d)),l=ye(l,z,V)}return{x:r,y:l}}_updatePointerDirectionDelta(o){const{x:t,y:r}=o,l=this._pointerDirectionDelta,d=this._pointerPositionAtLastDirectionChange,f=Math.abs(t-d.x),g=Math.abs(r-d.y);return f>this._config.pointerDirectionChangeThreshold&&(l.x=t>d.x?1:-1,d.x=t),g>this._config.pointerDirectionChangeThreshold&&(l.y=r>d.y?1:-1,d.y=r),l}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,N(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,Pe),o.removeEventListener("touchstart",this._pointerDown,Ne),o.removeEventListener("dragstart",this._nativeDragStart,Pe)}_applyRootElementTransform(o,t){const r=he(o,t),l=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=l.transform&&"none"!=l.transform?l.transform:""),l.transform=Z(r,this._initialTransform)}_applyPreviewTransform(o,t){const r=this._previewTemplate?.template?void 0:this._initialTransform,l=he(o,t);this._preview.style.transform=Z(l,r)}_getDragDistance(o){const t=this._pickupPositionOnPage;return t?{x:o.x-t.x,y:o.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:t}=this._passiveTransform;if(0===o&&0===t||this.isDragging()||!this._boundaryElement)return;const r=this._rootElement.getBoundingClientRect(),l=this._boundaryElement.getBoundingClientRect();if(0===l.width&&0===l.height||0===r.width&&0===r.height)return;const d=l.left-r.left,f=r.right-l.right,g=l.top-r.top,P=r.bottom-l.bottom;l.width>r.width?(d>0&&(o+=d),f>0&&(o-=f)):o=0,l.height>r.height?(g>0&&(t+=g),P>0&&(t-=P)):t=0,(o!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:o})}_getDragStartDelay(o){const t=this.dragStartDelay;return"number"==typeof t?t:ne(o)?t.touch:t?t.mouse:0}_updateOnScroll(o){const t=this._parentPositions.handleScroll(o);if(t){const r=(0,T.sA)(o);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Q(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,T.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,t){const r=this._previewContainer||"global";if("parent"===r)return o;if("global"===r){const l=this._document;return t||l.fullscreenElement||l.webkitFullscreenElement||l.mozFullScreenElement||l.msFullscreenElement||l.body}return(0,D.fI)(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(o){return this._handles.find(t=>o.target&&(o.target===t||t.contains(o.target)))}}function he(u,o){return`translate3d(${Math.round(u)}px, ${Math.round(o)}px, 0)`}function ye(u,o,t){return Math.max(o,Math.min(t,u))}function ne(u){return"t"===u.type[0]}function xe(u,o){const t=u.rootNodes;if(1===t.length&&t[0].nodeType===o.ELEMENT_NODE)return t[0];const r=o.createElement("div");return t.forEach(l=>r.appendChild(l)),r}function ke(u,o){u.style.width=`${o.width}px`,u.style.height=`${o.height}px`,u.style.transform=he(o.left,o.top)}function Me(u,o,t){const r=we(o,u.length-1),l=we(t,u.length-1);if(r===l)return;const d=u[r],f=l<r?-1:1;for(let g=r;g!==l;g+=f)u[g]=u[g+f];u[l]=d}function we(u,o){return Math.max(0,Math.min(o,u))}class rt{constructor(o,t){this._element=o,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(o){this.withItems(o)}sort(o,t,r,l){const d=this._itemPositions,f=this._getItemIndexFromPointerPosition(o,t,r,l);if(-1===f&&d.length>0)return null;const g="horizontal"===this.orientation,P=d.findIndex(le=>le.drag===o),F=d[f],V=F.clientRect,re=P>f?1:-1,_e=this._getItemOffsetPx(d[P].clientRect,V,re),pe=this._getSiblingOffsetPx(P,d,re),be=d.slice();return Me(d,P,f),d.forEach((le,ot)=>{if(be[ot]===le)return;const nt=le.drag===o,Ke=nt?_e:pe,n=nt?o.getPlaceholderElement():le.drag.getRootElement();le.offset+=Ke,g?(n.style.transform=Z(`translate3d(${Math.round(le.offset)}px, 0, 0)`,le.initialTransform),Q(le.clientRect,0,Ke)):(n.style.transform=Z(`translate3d(0, ${Math.round(le.offset)}px, 0)`,le.initialTransform),Q(le.clientRect,Ke,0))}),this._previousSwap.overlaps=oe(V,t,r),this._previousSwap.drag=F.drag,this._previousSwap.delta=g?l.x:l.y,{previousIndex:P,currentIndex:f}}enter(o,t,r,l){const d=null==l||l<0?this._getItemIndexFromPointerPosition(o,t,r):l,f=this._activeDraggables,g=f.indexOf(o),P=o.getPlaceholderElement();let F=f[d];if(F===o&&(F=f[d+1]),!F&&(null==d||-1===d||d<f.length-1)&&this._shouldEnterAsFirstChild(t,r)&&(F=f[0]),g>-1&&f.splice(g,1),F&&!this._dragDropRegistry.isDragging(F)){const z=F.getRootElement();z.parentElement.insertBefore(P,z),f.splice(d,0,o)}else(0,D.fI)(this._element).appendChild(P),f.push(o);P.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables.forEach(o=>{const t=o.getRootElement();if(t){const r=this._itemPositions.find(l=>l.drag===o)?.initialTransform;t.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===o)}updateOnScroll(o,t){this._itemPositions.forEach(({clientRect:r})=>{Q(r,o,t)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}_cacheItemPositions(){const o="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const r=t.getVisibleElement();return{drag:t,offset:0,initialTransform:r.style.transform||"",clientRect:j(r)}}).sort((t,r)=>o?t.clientRect.left-r.clientRect.left:t.clientRect.top-r.clientRect.top)}_getItemOffsetPx(o,t,r){const l="horizontal"===this.orientation;let d=l?t.left-o.left:t.top-o.top;return-1===r&&(d+=l?t.width-o.width:t.height-o.height),d}_getSiblingOffsetPx(o,t,r){const l="horizontal"===this.orientation,d=t[o].clientRect,f=t[o+-1*r];let g=d[l?"width":"height"]*r;if(f){const P=l?"left":"top",F=l?"right":"bottom";-1===r?g-=f.clientRect[P]-d[F]:g+=d[P]-f.clientRect[F]}return g}_shouldEnterAsFirstChild(o,t){if(!this._activeDraggables.length)return!1;const r=this._itemPositions,l="horizontal"===this.orientation;if(r[0].drag!==this._activeDraggables[0]){const f=r[r.length-1].clientRect;return l?o>=f.right:t>=f.bottom}{const f=r[0].clientRect;return l?o<=f.left:t<=f.top}}_getItemIndexFromPointerPosition(o,t,r,l){const d="horizontal"===this.orientation,f=this._itemPositions.findIndex(({drag:g,clientRect:P})=>{if(g===o)return!1;if(l){const F=d?l.x:l.y;if(g===this._previousSwap.drag&&this._previousSwap.overlaps&&F===this._previousSwap.delta)return!1}return d?t>=Math.floor(P.left)&&t<Math.floor(P.right):r>=Math.floor(P.top)&&r<Math.floor(P.bottom)});return-1!==f&&this._sortPredicate(f,o)?f:-1}}class at{constructor(o,t,r,l,d){this._dragDropRegistry=t,this._ngZone=l,this._viewportRuler=d,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new R.x,this.entered=new R.x,this.exited=new R.x,this.dropped=new R.x,this.sorted=new R.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=B.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new R.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function M(u=0,o=I.z){return u<0&&(u=0),(0,x.H)(u,u,o)}(0,K.Z).pipe((0,_.R)(this._stopScrollTimers)).subscribe(()=>{const f=this._scrollNode,g=this.autoScrollStep;1===this._verticalScrollDirection?f.scrollBy(0,-g):2===this._verticalScrollDirection&&f.scrollBy(0,g),1===this._horizontalScrollDirection?f.scrollBy(-g,0):2===this._horizontalScrollDirection&&f.scrollBy(g,0)})},this.element=(0,D.fI)(o),this._document=r,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new ee(r),this._sortStrategy=new rt(this.element,t),this._sortStrategy.withSortPredicate((f,g)=>this.sortPredicate(f,g,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,t,r,l){this._draggingStarted(),null==l&&this.sortingDisabled&&(l=this._draggables.indexOf(o)),this._sortStrategy.enter(o,t,r,l),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,t,r,l,d,f,g,P={}){this._reset(),this.dropped.next({item:o,currentIndex:t,previousIndex:r,container:this,previousContainer:l,isPointerOverContainer:d,distance:f,dropPoint:g,event:P})}withItems(o){const t=this._draggables;return this._draggables=o,o.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(t.filter(l=>l.isDragging()).every(l=>-1===o.indexOf(l))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._sortStrategy.direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._sortStrategy.orientation=o,this}withScrollableParents(o){const t=(0,D.fI)(this.element);return this._scrollableElements=-1===o.indexOf(t)?[t,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,t,r,l){if(this.sortingDisabled||!this._clientRect||!ae(this._clientRect,.05,t,r))return;const d=this._sortStrategy.sort(o,t,r,l);d&&this.sorted.next({previousIndex:d.previousIndex,currentIndex:d.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,t){if(this.autoScrollDisabled)return;let r,l=0,d=0;if(this._parentPositions.positions.forEach((f,g)=>{g===this._document||!f.clientRect||r||ae(f.clientRect,.05,o,t)&&([l,d]=function lt(u,o,t,r){const l=Je(o,r),d=Qe(o,t);let f=0,g=0;if(l){const P=u.scrollTop;1===l?P>0&&(f=1):u.scrollHeight-P>u.clientHeight&&(f=2)}if(d){const P=u.scrollLeft;1===d?P>0&&(g=1):u.scrollWidth-P>u.clientWidth&&(g=2)}return[f,g]}(g,f.clientRect,o,t),(l||d)&&(r=g))}),!l&&!d){const{width:f,height:g}=this._viewportRuler.getViewportSize(),P={width:f,height:g,top:0,right:f,bottom:g,left:0};l=Je(P,t),d=Qe(P,o),r=window}r&&(l!==this._verticalScrollDirection||d!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=l,this._horizontalScrollDirection=d,this._scrollNode=r,(l||d)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=(0,D.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=(0,D.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_reset(){this._isDragging=!1;const o=(0,D.fI)(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(o,t){return null!=this._clientRect&&oe(this._clientRect,o,t)}_getSiblingContainerFromPosition(o,t,r){return this._siblings.find(l=>l._canReceive(o,t,r))}_canReceive(o,t,r){if(!this._clientRect||!oe(this._clientRect,t,r)||!this.enterPredicate(o,this))return!1;const l=this._getShadowRoot().elementFromPoint(t,r);if(!l)return!1;const d=(0,D.fI)(this.element);return l===d||d.contains(l)}_startReceiving(o,t){const r=this._activeSiblings;!r.has(o)&&t.every(l=>this.enterPredicate(l,this)||this._draggables.indexOf(l)>-1)&&(r.add(o),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(o);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,T.kV)((0,D.fI)(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,o))}}function Je(u,o){const{top:t,bottom:r,height:l}=u,d=.05*l;return o>=t-d&&o<=t+d?1:o>=r-d&&o<=r+d?2:0}function Qe(u,o){const{left:t,right:r,width:l}=u,d=.05*l;return o>=t-d&&o<=t+d?1:o>=r-d&&o<=r+d?2:0}const Le=(0,T.i$)({passive:!1,capture:!0});let Ae=(()=>{class u{constructor(t,r){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=l=>l.isDragging(),this.pointerMove=new R.x,this.pointerUp=new R.x,this.scroll=new R.x,this._preventDefaultWhileDragging=l=>{this._activeDragInstances.length>0&&l.preventDefault()},this._persistentTouchmoveListener=l=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&l.preventDefault(),this.pointerMove.next(l))},this._document=r}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Le)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Le)}startDragging(t,r){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const l=r.type.startsWith("touch");this._globalListeners.set(l?"touchend":"mouseup",{handler:d=>this.pointerUp.next(d),options:!0}).set("scroll",{handler:d=>this.scroll.next(d),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Le}),l||this._globalListeners.set("mousemove",{handler:d=>this.pointerMove.next(d),options:Le}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((d,f)=>{this._document.addEventListener(f,d.handler,d.options)})})}}stopDragging(t){const r=this._activeDragInstances.indexOf(t);r>-1&&(this._activeDragInstances.splice(r,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const r=[this.scroll];return t&&t!==this._document&&r.push(new W.y(l=>this._ngZone.runOutsideAngular(()=>{const f=g=>{this._activeDragInstances.length&&l.next(g)};return t.addEventListener("scroll",f,!0),()=>{t.removeEventListener("scroll",f,!0)}}))),(0,b.T)(...r)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,r)=>{this._document.removeEventListener(r,t.handler,t.options)}),this._globalListeners.clear()}}return u.\u0275fac=function(t){return new(t||u)(e.LFG(e.R0b),e.LFG(v.K0))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const Xe={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ge=(()=>{class u{constructor(t,r,l,d){this._document=t,this._ngZone=r,this._viewportRuler=l,this._dragDropRegistry=d}createDrag(t,r=Xe){return new We(t,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new at(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return u.\u0275fac=function(t){return new(t||u)(e.LFG(v.K0),e.LFG(e.R0b),e.LFG(G.rL),e.LFG(Ae))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const me=new e.OlP("CDK_DRAG_PARENT"),Ce=new e.OlP("CdkDropListGroup"),qe=new e.OlP("CDK_DRAG_CONFIG");let Te=0;const Re=new e.OlP("CdkDropList");let Ge=(()=>{class u{constructor(t,r,l,d,f,g,P){this.element=t,this._changeDetectorRef=l,this._scrollDispatcher=d,this._dir=f,this._group=g,this._destroyed=new R.x,this.connectedTo=[],this.id="cdk-drop-list-"+Te++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.sorted=new e.vpe,this._unsortedItems=new Set,this._dropListRef=r.createDropList(t),this._dropListRef.data=this,P&&this._assignDefaults(P),this._dropListRef.enterPredicate=(F,z)=>this.enterPredicate(F.data,z.data),this._dropListRef.sortPredicate=(F,z,V)=>this.sortPredicate(F,z.data,V.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),u._dropLists.push(this),g&&g._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=(0,D.Ig)(t)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,r)=>t._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=u._dropLists.indexOf(this);t>-1&&u._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,O.O)(this._dir.value),(0,_.R)(this._destroyed)).subscribe(r=>t.withDirection(r)),t.beforeStarted.subscribe(()=>{const r=(0,D.Eq)(this.connectedTo).map(l=>"string"==typeof l?u._dropLists.find(f=>f.id===l):l);if(this._group&&this._group._items.forEach(l=>{-1===r.indexOf(l)&&r.push(l)}),!this._scrollableParentsResolved){const l=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(d=>d.getElementRef().nativeElement);this._dropListRef.withScrollableParents(l),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,D.Ig)(this.sortingDisabled),t.autoScrollDisabled=(0,D.Ig)(this.autoScrollDisabled),t.autoScrollStep=(0,D.su)(this.autoScrollStep,2),t.connectedTo(r.filter(l=>l&&l!==this).map(l=>l._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(t){const{lockAxis:r,draggingDisabled:l,sortingDisabled:d,listAutoScrollDisabled:f,listOrientation:g}=t;this.disabled=l??!1,this.sortingDisabled=d??!1,this.autoScrollDisabled=f??!1,this.orientation=g||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return u._dropLists=[],u.\u0275fac=function(t){return new(t||u)(e.Y36(e.SBq),e.Y36(ge),e.Y36(e.sBO),e.Y36(G.mF),e.Y36(E.Is,8),e.Y36(Ce,12),e.Y36(qe,8))},u.\u0275dir=e.lG2({type:u,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,r){2&t&&(e.uIk("id",r.id),e.ekj("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[e._Bn([{provide:Ce,useValue:void 0},{provide:Re,useExisting:u}])]}),u})();const Ue=new e.OlP("CdkDragHandle");let et=(()=>{class u{constructor(t,r){this.element=t,this._stateChanges=new R.x,this._disabled=!1,this._parentDrag=r}get disabled(){return this._disabled}set disabled(t){this._disabled=(0,D.Ig)(t),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return u.\u0275fac=function(t){return new(t||u)(e.Y36(e.SBq),e.Y36(me,12))},u.\u0275dir=e.lG2({type:u,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[e._Bn([{provide:Ue,useExisting:u}])]}),u})();const ze=new e.OlP("CdkDragPlaceholder"),tt=new e.OlP("CdkDragPreview");let st=(()=>{class u{constructor(t,r,l,d,f,g,P,F,z,V,re){this.element=t,this.dropContainer=r,this._ngZone=d,this._viewContainerRef=f,this._dir=P,this._changeDetectorRef=z,this._selfHandle=V,this._parentDrag=re,this._destroyed=new R.x,this.started=new e.vpe,this.released=new e.vpe,this.ended=new e.vpe,this.entered=new e.vpe,this.exited=new e.vpe,this.dropped=new e.vpe,this.moved=new W.y(_e=>{const pe=this._dragRef.moved.pipe((0,k.U)(be=>({source:this,pointerPosition:be.pointerPosition,event:be.event,delta:be.delta,distance:be.distance}))).subscribe(_e);return()=>{pe.unsubscribe()}}),this._dragRef=F.createDrag(t,{dragStartThreshold:g&&null!=g.dragStartThreshold?g.dragStartThreshold:5,pointerDirectionChangeThreshold:g&&null!=g.pointerDirectionChangeThreshold?g.pointerDirectionChangeThreshold:5,zIndex:g?.zIndex}),this._dragRef.data=this,u._dragInstances.push(this),g&&this._assignDefaults(g),r&&(this._dragRef._withDropContainer(r._dropListRef),r.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=(0,D.Ig)(t),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,y.q)(1),(0,_.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const r=t.rootElementSelector,l=t.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),l&&!l.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=u._dragInstances.indexOf(this);t>-1&&u._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let r=t;this.rootElementSelector&&(r=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,D.fI)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const r=this._dir,l=this.dragStartDelay,d=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,f=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof l&&l?l:(0,D.su)(l),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(d).withPreviewTemplate(f).withPreviewContainer(this.previewContainer||"global"),r&&t.withDirection(r.value)}}),t.beforeStarted.pipe((0,y.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let r=this.element.nativeElement.parentElement;for(;r;){if(r.classList.contains("cdk-drag")){t.withParent(u._dragInstances.find(l=>l.element.nativeElement===r)?._dragRef||null);break}r=r.parentElement}})}_handleEvents(t){t.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),t.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),t.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),t.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(t){const{lockAxis:r,dragStartDelay:l,constrainPosition:d,previewClass:f,boundaryElement:g,draggingDisabled:P,rootElementSelector:F,previewContainer:z}=t;this.disabled=P??!1,this.dragStartDelay=l||0,r&&(this.lockAxis=r),d&&(this.constrainPosition=d),f&&(this.previewClass=f),g&&(this.boundaryElement=g),F&&(this.rootElementSelector=F),z&&(this.previewContainer=z)}_setupHandlesListener(){this._handles.changes.pipe((0,O.O)(this._handles),(0,w.b)(t=>{const r=t.filter(l=>l._parentDrag===this).map(l=>l.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),(0,C.w)(t=>(0,b.T)(...t.map(r=>r._stateChanges.pipe((0,O.O)(r))))),(0,_.R)(this._destroyed)).subscribe(t=>{const r=this._dragRef,l=t.element.nativeElement;t.disabled?r.disableHandle(l):r.enableHandle(l)})}}return u._dragInstances=[],u.\u0275fac=function(t){return new(t||u)(e.Y36(e.SBq),e.Y36(Re,12),e.Y36(v.K0),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(qe,8),e.Y36(E.Is,8),e.Y36(ge),e.Y36(e.sBO),e.Y36(Ue,10),e.Y36(me,12))},u.\u0275dir=e.lG2({type:u,selectors:[["","cdkDrag",""]],contentQueries:function(t,r,l){if(1&t&&(e.Suo(l,tt,5),e.Suo(l,ze,5),e.Suo(l,Ue,5)),2&t){let d;e.iGM(d=e.CRH())&&(r._previewTemplate=d.first),e.iGM(d=e.CRH())&&(r._placeholderTemplate=d.first),e.iGM(d=e.CRH())&&(r._handles=d)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,r){2&t&&e.ekj("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[e._Bn([{provide:me,useExisting:u}]),e.TTD]}),u})(),Ye=(()=>{class u{}return u.\u0275fac=function(t){return new(t||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({providers:[ge],imports:[G.ZD]}),u})()},317:(ue,q,m)=>{m.d(q,{ev:()=>f,Dz:()=>u,w1:()=>r,ge:()=>l,fO:()=>o,XQ:()=>z,as:()=>g,Gk:()=>re,nj:()=>F,BZ:()=>Ye,p0:()=>le});var e=m(4537),v=m(5875),G=m(4929),T=m(5834),D=m(6321),L=m(5531),I=m(8692),x=m(8023),M=m(7108),R=m(4121),B=m(818),K=m(5975),b=m(4945),_=m(3528),O=m(5598);const k=[[["caption"]],[["colgroup"],["col"]]],y=["caption","colgroup, col"];function E(n){return class extends n{constructor(...c){super(...c),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(c){const s=this._sticky;this._sticky=(0,G.Ig)(c),this._hasStickyChanged=s!==this._sticky}hasStickyChanged(){const c=this._hasStickyChanged;return this._hasStickyChanged=!1,c}resetStickyChanged(){this._hasStickyChanged=!1}}}const A=new e.OlP("CDK_TABLE");let U=(()=>{class n{constructor(s){this.template=s}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Z=(()=>{class n{constructor(s){this.template=s}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),J=(()=>{class n{constructor(s){this.template=s}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class ie{}const se=E(ie);let j=(()=>{class n extends se{constructor(s){super(),this._table=s,this._stickyEnd=!1}get name(){return this._name}set name(s){this._setNameInput(s)}get stickyEnd(){return this._stickyEnd}set stickyEnd(s){const a=this._stickyEnd;this._stickyEnd=(0,G.Ig)(s),this._hasStickyChanged=a!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(s){s&&(this._name=s,this.cssClassFriendlyName=s.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(A,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(s,a,h){if(1&s&&(e.Suo(h,U,5),e.Suo(h,Z,5),e.Suo(h,J,5)),2&s){let p;e.iGM(p=e.CRH())&&(a.cell=p.first),e.iGM(p=e.CRH())&&(a.headerCell=p.first),e.iGM(p=e.CRH())&&(a.footerCell=p.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[e._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),e.qOj]}),n})();class oe{constructor(c,s){s.nativeElement.classList.add(...c._columnCssClassName)}}let Q=(()=>{class n extends oe{constructor(s,a){super(s,a)}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(j),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.qOj]}),n})(),ee=(()=>{class n extends oe{constructor(s,a){if(super(s,a),1===s._table?._elementRef.nativeElement.nodeType){const h=s._table._elementRef.nativeElement.getAttribute("role");a.nativeElement.setAttribute("role","grid"===h||"treegrid"===h?"gridcell":"cell")}}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(j),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.qOj]}),n})();class fe{constructor(){this.tasks=[],this.endTasks=[]}}const Se=new e.OlP("_COALESCED_STYLE_SCHEDULER");let He=(()=>{class n{constructor(s){this._ngZone=s,this._currentSchedule=null,this._destroyed=new x.x}schedule(s){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(s)}scheduleEnd(s){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(s)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new fe,this._getScheduleObservable().pipe((0,_.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const s=this._currentSchedule;this._currentSchedule=new fe;for(const a of s.tasks)a();for(const a of s.endTasks)a()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,M.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,O.q)(1))}}return n.\u0275fac=function(s){return new(s||n)(e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(s,a){this.template=s,this._differs=a}ngOnChanges(s){if(!this._columnsDiffer){const a=s.columns&&s.columns.currentValue||[];this._columnsDiffer=this._differs.find(a).create(),this._columnsDiffer.diff(a)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(s){return this instanceof ve?s.headerCell.template:this instanceof he?s.footerCell.template:s.cell.template}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.Rgc),e.Y36(e.ZZ4))},n.\u0275dir=e.lG2({type:n,features:[e.TTD]}),n})();class Ne extends Ee{}const Pe=E(Ne);let ve=(()=>{class n extends Pe{constructor(s,a,h){super(s,a),this._table=h}ngOnChanges(s){super.ngOnChanges(s)}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(A,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[e.qOj,e.TTD]}),n})();class Oe extends Ee{}const We=E(Oe);let he=(()=>{class n extends We{constructor(s,a,h){super(s,a),this._table=h}ngOnChanges(s){super.ngOnChanges(s)}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(A,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[e.qOj,e.TTD]}),n})(),ye=(()=>{class n extends Ee{constructor(s,a,h){super(s,a),this._table=h}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.Rgc),e.Y36(e.ZZ4),e.Y36(A,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[e.qOj]}),n})(),ne=(()=>{class n{constructor(s){this._viewContainer=s,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(s){return new(s||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),xe=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&e.GkF(0,0)},dependencies:[ne],encapsulation:2}),n})(),Me=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&e.GkF(0,0)},dependencies:[ne],encapsulation:2}),n})(),Ie=(()=>{class n{constructor(s){this.templateRef=s,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const je=["top","bottom","left","right"];class we{constructor(c,s,a,h,p=!0,S=!0,H){this._isNativeHtmlTable=c,this._stickCellCss=s,this.direction=a,this._coalescedStyleScheduler=h,this._isBrowser=p,this._needsPositionStickyOnElement=S,this._positionListener=H,this._cachedCellWidths=[],this._borderCellCss={top:`${s}-border-elem-top`,bottom:`${s}-border-elem-bottom`,left:`${s}-border-elem-left`,right:`${s}-border-elem-right`}}clearStickyPositioning(c,s){const a=[];for(const h of c)if(h.nodeType===h.ELEMENT_NODE){a.push(h);for(let p=0;p<h.children.length;p++)a.push(h.children[p])}this._coalescedStyleScheduler.schedule(()=>{for(const h of a)this._removeStickyStyle(h,s)})}updateStickyColumns(c,s,a,h=!0){if(!c.length||!this._isBrowser||!s.some(X=>X)&&!a.some(X=>X))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const p=c[0],S=p.children.length,H=this._getCellWidths(p,h),Y=this._getStickyStartColumnPositions(H,s),te=this._getStickyEndColumnPositions(H,a),$=s.lastIndexOf(!0),ce=a.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const X="rtl"===this.direction,De=X?"right":"left",ft=X?"left":"right";for(const Be of c)for(let de=0;de<S;de++){const ht=Be.children[de];s[de]&&this._addStickyStyle(ht,De,Y[de],de===$),a[de]&&this._addStickyStyle(ht,ft,te[de],de===ce)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===$?[]:H.slice(0,$+1).map((Be,de)=>s[de]?Be:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===ce?[]:H.slice(ce).map((Be,de)=>a[de+ce]?Be:null).reverse()}))})}stickRows(c,s,a){if(!this._isBrowser)return;const h="bottom"===a?c.slice().reverse():c,p="bottom"===a?s.slice().reverse():s,S=[],H=[],Y=[];for(let $=0,ce=0;$<h.length;$++){if(!p[$])continue;S[$]=ce;const X=h[$];Y[$]=this._isNativeHtmlTable?Array.from(X.children):[X];const De=X.getBoundingClientRect().height;ce+=De,H[$]=De}const te=p.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let $=0;$<h.length;$++){if(!p[$])continue;const ce=S[$],X=$===te;for(const De of Y[$])this._addStickyStyle(De,a,ce,X)}"top"===a?this._positionListener?.stickyHeaderRowsUpdated({sizes:H,offsets:S,elements:Y}):this._positionListener?.stickyFooterRowsUpdated({sizes:H,offsets:S,elements:Y})})}updateStickyFooterContainer(c,s){if(!this._isNativeHtmlTable)return;const a=c.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{s.some(h=>!h)?this._removeStickyStyle(a,["bottom"]):this._addStickyStyle(a,"bottom",0,!1)})}_removeStickyStyle(c,s){for(const h of s)c.style[h]="",c.classList.remove(this._borderCellCss[h]);je.some(h=>-1===s.indexOf(h)&&c.style[h])?c.style.zIndex=this._getCalculatedZIndex(c):(c.style.zIndex="",this._needsPositionStickyOnElement&&(c.style.position=""),c.classList.remove(this._stickCellCss))}_addStickyStyle(c,s,a,h){c.classList.add(this._stickCellCss),h&&c.classList.add(this._borderCellCss[s]),c.style[s]=`${a}px`,c.style.zIndex=this._getCalculatedZIndex(c),this._needsPositionStickyOnElement&&(c.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(c){const s={top:100,bottom:10,left:1,right:1};let a=0;for(const h of je)c.style[h]&&(a+=s[h]);return a?`${a}`:""}_getCellWidths(c,s=!0){if(!s&&this._cachedCellWidths.length)return this._cachedCellWidths;const a=[],h=c.children;for(let p=0;p<h.length;p++)a.push(h[p].getBoundingClientRect().width);return this._cachedCellWidths=a,a}_getStickyStartColumnPositions(c,s){const a=[];let h=0;for(let p=0;p<c.length;p++)s[p]&&(a[p]=h,h+=c[p]);return a}_getStickyEndColumnPositions(c,s){const a=[];let h=0;for(let p=c.length;p>0;p--)s[p]&&(a[p]=h,h+=c[p]);return a}}const Ae=new e.OlP("CDK_SPL");let ge=(()=>{class n{constructor(s,a){this.viewContainer=s,this.elementRef=a}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.s_b),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),me=(()=>{class n{constructor(s,a){this.viewContainer=s,this.elementRef=a}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.s_b),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Ce=(()=>{class n{constructor(s,a){this.viewContainer=s,this.elementRef=a}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.s_b),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Fe=(()=>{class n{constructor(s,a){this.viewContainer=s,this.elementRef=a}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.s_b),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Te=(()=>{class n{constructor(s,a,h,p,S,H,Y,te,$,ce,X,De){this._differs=s,this._changeDetectorRef=a,this._elementRef=h,this._dir=S,this._platform=Y,this._viewRepeater=te,this._coalescedStyleScheduler=$,this._viewportRuler=ce,this._stickyPositioningListener=X,this._ngZone=De,this._onDestroy=new x.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new e.vpe,this.viewChange=new R.X({start:0,end:Number.MAX_VALUE}),p||this._elementRef.nativeElement.setAttribute("role","table"),this._document=H,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(s){this._trackByFn=s}get dataSource(){return this._dataSource}set dataSource(s){this._dataSource!==s&&this._switchDataSource(s)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(s){this._multiTemplateDataRows=(0,G.Ig)(s),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(s){this._fixedLayout=(0,G.Ig)(s),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((s,a)=>this.trackBy?this.trackBy(a.dataIndex,a.data):a),this._viewportRuler.change().pipe((0,_.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const a=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||a,this._forceRecalculateCellWidths=a,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(s=>{s.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,T.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const s=this._dataDiffer.diff(this._renderRows);if(!s)return this._updateNoDataRow(),void this.contentChanged.next();const a=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(s,a,(h,p,S)=>this._getEmbeddedViewArgs(h.item,S),h=>h.item.data,h=>{1===h.operation&&h.context&&this._renderCellTemplateForItem(h.record.item.rowDef,h.context)}),this._updateRowIndexContext(),s.forEachIdentityChange(h=>{a.get(h.currentIndex).context.$implicit=h.item.data}),this._updateNoDataRow(),this._ngZone&&e.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,O.q)(1),(0,_.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(s){this._customColumnDefs.add(s)}removeColumnDef(s){this._customColumnDefs.delete(s)}addRowDef(s){this._customRowDefs.add(s)}removeRowDef(s){this._customRowDefs.delete(s)}addHeaderRowDef(s){this._customHeaderRowDefs.add(s),this._headerRowDefChanged=!0}removeHeaderRowDef(s){this._customHeaderRowDefs.delete(s),this._headerRowDefChanged=!0}addFooterRowDef(s){this._customFooterRowDefs.add(s),this._footerRowDefChanged=!0}removeFooterRowDef(s){this._customFooterRowDefs.delete(s),this._footerRowDefChanged=!0}setNoDataRow(s){this._customNoDataRow=s}updateStickyHeaderRowStyles(){const s=this._getRenderedRows(this._headerRowOutlet),h=this._elementRef.nativeElement.querySelector("thead");h&&(h.style.display=s.length?"":"none");const p=this._headerRowDefs.map(S=>S.sticky);this._stickyStyler.clearStickyPositioning(s,["top"]),this._stickyStyler.stickRows(s,p,"top"),this._headerRowDefs.forEach(S=>S.resetStickyChanged())}updateStickyFooterRowStyles(){const s=this._getRenderedRows(this._footerRowOutlet),h=this._elementRef.nativeElement.querySelector("tfoot");h&&(h.style.display=s.length?"":"none");const p=this._footerRowDefs.map(S=>S.sticky);this._stickyStyler.clearStickyPositioning(s,["bottom"]),this._stickyStyler.stickRows(s,p,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,p),this._footerRowDefs.forEach(S=>S.resetStickyChanged())}updateStickyColumnStyles(){const s=this._getRenderedRows(this._headerRowOutlet),a=this._getRenderedRows(this._rowOutlet),h=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...s,...a,...h],["left","right"]),this._stickyColumnStylesNeedReset=!1),s.forEach((p,S)=>{this._addStickyColumnStyles([p],this._headerRowDefs[S])}),this._rowDefs.forEach(p=>{const S=[];for(let H=0;H<a.length;H++)this._renderRows[H].rowDef===p&&S.push(a[H]);this._addStickyColumnStyles(S,p)}),h.forEach((p,S)=>{this._addStickyColumnStyles([p],this._footerRowDefs[S])}),Array.from(this._columnDefsByName.values()).forEach(p=>p.resetStickyChanged())}_getAllRenderRows(){const s=[],a=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let h=0;h<this._data.length;h++){let p=this._data[h];const S=this._getRenderRowsForData(p,h,a.get(p));this._cachedRenderRowsMap.has(p)||this._cachedRenderRowsMap.set(p,new WeakMap);for(let H=0;H<S.length;H++){let Y=S[H];const te=this._cachedRenderRowsMap.get(Y.data);te.has(Y.rowDef)?te.get(Y.rowDef).push(Y):te.set(Y.rowDef,[Y]),s.push(Y)}}return s}_getRenderRowsForData(s,a,h){return this._getRowDefs(s,a).map(S=>{const H=h&&h.has(S)?h.get(S):[];if(H.length){const Y=H.shift();return Y.dataIndex=a,Y}return{data:s,rowDef:S,dataIndex:a}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Re(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(a=>{this._columnDefsByName.has(a.name),this._columnDefsByName.set(a.name,a)})}_cacheRowDefs(){this._headerRowDefs=Re(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Re(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Re(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const s=this._rowDefs.filter(a=>!a.when);this._defaultRowDef=s[0]}_renderUpdatedColumns(){const s=(S,H)=>S||!!H.getColumnsDiff(),a=this._rowDefs.reduce(s,!1);a&&this._forceRenderDataRows();const h=this._headerRowDefs.reduce(s,!1);h&&this._forceRenderHeaderRows();const p=this._footerRowDefs.reduce(s,!1);return p&&this._forceRenderFooterRows(),a||h||p}_switchDataSource(s){this._data=[],(0,T.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),s||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=s}_observeRenderChanges(){if(!this.dataSource)return;let s;(0,T.Z9)(this.dataSource)?s=this.dataSource.connect(this):function W(n){return!!n&&(n instanceof B.y||(0,K.m)(n.lift)&&(0,K.m)(n.subscribe))}(this.dataSource)?s=this.dataSource:Array.isArray(this.dataSource)&&(s=(0,b.of)(this.dataSource)),this._renderChangeSubscription=s.pipe((0,_.R)(this._onDestroy)).subscribe(a=>{this._data=a||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((s,a)=>this._renderRow(this._headerRowOutlet,s,a)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((s,a)=>this._renderRow(this._footerRowOutlet,s,a)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(s,a){const h=Array.from(a.columns||[]).map(H=>this._columnDefsByName.get(H)),p=h.map(H=>H.sticky),S=h.map(H=>H.stickyEnd);this._stickyStyler.updateStickyColumns(s,p,S,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(s){const a=[];for(let h=0;h<s.viewContainer.length;h++){const p=s.viewContainer.get(h);a.push(p.rootNodes[0])}return a}_getRowDefs(s,a){if(1==this._rowDefs.length)return[this._rowDefs[0]];let h=[];if(this.multiTemplateDataRows)h=this._rowDefs.filter(p=>!p.when||p.when(a,s));else{let p=this._rowDefs.find(S=>S.when&&S.when(a,s))||this._defaultRowDef;p&&h.push(p)}return h}_getEmbeddedViewArgs(s,a){return{templateRef:s.rowDef.template,context:{$implicit:s.data},index:a}}_renderRow(s,a,h,p={}){const S=s.viewContainer.createEmbeddedView(a.template,p,h);return this._renderCellTemplateForItem(a,p),S}_renderCellTemplateForItem(s,a){for(let h of this._getCellTemplates(s))ne.mostRecentCellOutlet&&ne.mostRecentCellOutlet._viewContainer.createEmbeddedView(h,a);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const s=this._rowOutlet.viewContainer;for(let a=0,h=s.length;a<h;a++){const S=s.get(a).context;S.count=h,S.first=0===a,S.last=a===h-1,S.even=a%2==0,S.odd=!S.even,this.multiTemplateDataRows?(S.dataIndex=this._renderRows[a].dataIndex,S.renderIndex=a):S.index=this._renderRows[a].dataIndex}}_getCellTemplates(s){return s&&s.columns?Array.from(s.columns,a=>{const h=this._columnDefsByName.get(a);return s.extractCellTemplate(h)}):[]}_applyNativeTableSections(){const s=this._document.createDocumentFragment(),a=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const h of a){const p=this._document.createElement(h.tag);p.setAttribute("role","rowgroup");for(const S of h.outlets)p.appendChild(S.elementRef.nativeElement);s.appendChild(p)}this._elementRef.nativeElement.appendChild(s)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const s=(a,h)=>a||h.hasStickyChanged();this._headerRowDefs.reduce(s,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(s,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(s,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new we(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,b.of)()).pipe((0,_.R)(this._onDestroy)).subscribe(a=>{this._stickyStyler.direction=a,this.updateStickyColumnStyles()})}_getOwnDefs(s){return s.filter(a=>!a._table||a._table===this)}_updateNoDataRow(){const s=this._customNoDataRow||this._noDataRow;if(!s)return;const a=0===this._rowOutlet.viewContainer.length;if(a===this._isShowingNoDataRow)return;const h=this._noDataRowOutlet.viewContainer;if(a){const p=h.createEmbeddedView(s.templateRef),S=p.rootNodes[0];1===p.rootNodes.length&&S?.nodeType===this._document.ELEMENT_NODE&&(S.setAttribute("role","row"),S.classList.add(s._contentClassName))}else h.clear();this._isShowingNoDataRow=a}}return n.\u0275fac=function(s){return new(s||n)(e.Y36(e.ZZ4),e.Y36(e.sBO),e.Y36(e.SBq),e.$8M("role"),e.Y36(v.Is,8),e.Y36(I.K0),e.Y36(D.t4),e.Y36(T.k),e.Y36(Se),e.Y36(L.rL),e.Y36(Ae,12),e.Y36(e.R0b,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(s,a,h){if(1&s&&(e.Suo(h,Ie,5),e.Suo(h,j,5),e.Suo(h,ye,5),e.Suo(h,ve,5),e.Suo(h,he,5)),2&s){let p;e.iGM(p=e.CRH())&&(a._noDataRow=p.first),e.iGM(p=e.CRH())&&(a._contentColumnDefs=p),e.iGM(p=e.CRH())&&(a._contentRowDefs=p),e.iGM(p=e.CRH())&&(a._contentHeaderRowDefs=p),e.iGM(p=e.CRH())&&(a._contentFooterRowDefs=p)}},viewQuery:function(s,a){if(1&s&&(e.Gf(ge,7),e.Gf(me,7),e.Gf(Ce,7),e.Gf(Fe,7)),2&s){let h;e.iGM(h=e.CRH())&&(a._rowOutlet=h.first),e.iGM(h=e.CRH())&&(a._headerRowOutlet=h.first),e.iGM(h=e.CRH())&&(a._footerRowOutlet=h.first),e.iGM(h=e.CRH())&&(a._noDataRowOutlet=h.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(s,a){2&s&&e.ekj("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e._Bn([{provide:A,useExisting:n},{provide:T.k,useClass:T.yy},{provide:Se,useClass:He},{provide:Ae,useValue:null}])],ngContentSelectors:y,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(s,a){1&s&&(e.F$t(k),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ge,me,Ce,Fe],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function Re(n,c){return n.concat(Array.from(c))}let et=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[L.Cl]}),n})();var ze=m(1379);const ct=[[["caption"]],[["colgroup"],["col"]]],tt=["caption","colgroup, col"];let Ye=(()=>{class n extends Te{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(s,a){2&s&&e.ekj("mat-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],features:[e._Bn([{provide:T.k,useClass:T.yy},{provide:Te,useExisting:n},{provide:A,useExisting:n},{provide:Se,useClass:He},{provide:Ae,useValue:null}]),e.qOj],ngContentSelectors:tt,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(s,a){1&s&&(e.F$t(ct),e.Hsn(0),e.Hsn(1,1),e.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ge,me,Ce,Fe],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})(),u=(()=>{class n extends U{}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matCellDef",""]],features:[e._Bn([{provide:U,useExisting:n}]),e.qOj]}),n})(),o=(()=>{class n extends Z{}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[e._Bn([{provide:Z,useExisting:n}]),e.qOj]}),n})(),r=(()=>{class n extends j{get name(){return this._name}set name(s){this._setNameInput(s)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[e._Bn([{provide:j,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),e.qOj]}),n})(),l=(()=>{class n extends Q{}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[e.qOj]}),n})(),f=(()=>{class n extends ee{}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[e.qOj]}),n})(),g=(()=>{class n extends ve{}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[e._Bn([{provide:ve,useExisting:n}]),e.qOj]}),n})(),F=(()=>{class n extends ye{}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[e._Bn([{provide:ye,useExisting:n}]),e.qOj]}),n})(),z=(()=>{class n extends xe{}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[e._Bn([{provide:xe,useExisting:n}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&e.GkF(0,0)},dependencies:[ne],encapsulation:2}),n})(),re=(()=>{class n extends Me{}return n.\u0275fac=function(){let c;return function(a){return(c||(c=e.n5z(n)))(a||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[e._Bn([{provide:Me,useExisting:n}]),e.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&e.GkF(0,0)},dependencies:[ne],encapsulation:2}),n})(),le=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[et,ze.BQ,ze.BQ]}),n})()},5561:(ue,q,m)=>{if(m.d(q,{Z:()=>D}),!e)var e={map:function(L,I){var x={};return I?L.map(function(M,R){return x.index=R,I.call(x,M)}):L.slice()},naturalOrder:function(L,I){return L<I?-1:L>I?1:0},sum:function(L,I){var x={};return L.reduce(I?function(M,R,B){return x.index=B,M+I.call(x,R)}:function(M,R){return M+R},0)},max:function(L,I){return Math.max.apply(null,I?e.map(L,I):L)}};var v=function(){function M(b,_,O){return(b<<10)+(_<<5)+O}function R(b){var _=[],O=!1;function k(){_.sort(b),O=!0}return{push:function(y){_.push(y),O=!1},peek:function(y){return O||k(),void 0===y&&(y=_.length-1),_[y]},pop:function(){return O||k(),_.pop()},size:function(){return _.length},map:function(y){return _.map(y)},debug:function(){return O||k(),_}}}function B(b,_,O,k,y,w,C){this.r1=b,this.r2=_,this.g1=O,this.g2=k,this.b1=y,this.b2=w,this.histo=C}function K(){this.vboxes=new R(function(b,_){return e.naturalOrder(b.vbox.count()*b.vbox.volume(),_.vbox.count()*_.vbox.volume())})}function W(b,_){if(_.count()){var O=_.r2-_.r1+1,k=_.g2-_.g1+1,y=e.max([O,k,_.b2-_.b1+1]);if(1==_.count())return[_.copy()];var w,C,E,A,N=0,U=[],Z=[];if(y==O)for(w=_.r1;w<=_.r2;w++){for(A=0,C=_.g1;C<=_.g2;C++)for(E=_.b1;E<=_.b2;E++)A+=b[M(w,C,E)]||0;U[w]=N+=A}else if(y==k)for(w=_.g1;w<=_.g2;w++){for(A=0,C=_.r1;C<=_.r2;C++)for(E=_.b1;E<=_.b2;E++)A+=b[M(C,w,E)]||0;U[w]=N+=A}else for(w=_.b1;w<=_.b2;w++){for(A=0,C=_.r1;C<=_.r2;C++)for(E=_.g1;E<=_.g2;E++)A+=b[M(C,E,w)]||0;U[w]=N+=A}return U.forEach(function(J,ie){Z[ie]=N-J}),function(J){var ie,se,j,oe,Q,ae=J+"1",ee=J+"2",fe=0;for(w=_[ae];w<=_[ee];w++)if(U[w]>N/2){for(j=_.copy(),oe=_.copy(),Q=(ie=w-_[ae])<=(se=_[ee]-w)?Math.min(_[ee]-1,~~(w+se/2)):Math.max(_[ae],~~(w-1-ie/2));!U[Q];)Q++;for(fe=Z[Q];!fe&&U[Q-1];)fe=Z[--Q];return j[ee]=Q,oe[ae]=j[ee]+1,[j,oe]}}(y==O?"r":y==k?"g":"b")}}return B.prototype={volume:function(b){return this._volume&&!b||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(b){var _=this.histo;if(!this._count_set||b){var O,k,y,w=0;for(O=this.r1;O<=this.r2;O++)for(k=this.g1;k<=this.g2;k++)for(y=this.b1;y<=this.b2;y++)w+=_[M(O,k,y)]||0;this._count=w,this._count_set=!0}return this._count},copy:function(){return new B(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(b){var _=this.histo;if(!this._avg||b){var O,k,y,w,C=0,A=0,N=0,U=0;for(k=this.r1;k<=this.r2;k++)for(y=this.g1;y<=this.g2;y++)for(w=this.b1;w<=this.b2;w++)C+=O=_[M(k,y,w)]||0,A+=O*(k+.5)*8,N+=O*(y+.5)*8,U+=O*(w+.5)*8;this._avg=C?[~~(A/C),~~(N/C),~~(U/C)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(b){var _=b[0]>>3;return gval=b[1]>>3,bval=b[2]>>3,_>=this.r1&&_<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},K.prototype={push:function(b){this.vboxes.push({vbox:b,color:b.avg()})},palette:function(){return this.vboxes.map(function(b){return b.color})},size:function(){return this.vboxes.size()},map:function(b){for(var _=this.vboxes,O=0;O<_.size();O++)if(_.peek(O).vbox.contains(b))return _.peek(O).color;return this.nearest(b)},nearest:function(b){for(var _,O,k,y=this.vboxes,w=0;w<y.size();w++)((O=Math.sqrt(Math.pow(b[0]-y.peek(w).color[0],2)+Math.pow(b[1]-y.peek(w).color[1],2)+Math.pow(b[2]-y.peek(w).color[2],2)))<_||void 0===_)&&(_=O,k=y.peek(w).color);return k},forcebw:function(){var b=this.vboxes;b.sort(function(y,w){return e.naturalOrder(e.sum(y.color),e.sum(w.color))});var _=b[0].color;_[0]<5&&_[1]<5&&_[2]<5&&(b[0].color=[0,0,0]);var O=b.length-1,k=b[O].color;k[0]>251&&k[1]>251&&k[2]>251&&(b[O].color=[255,255,255])}},{quantize:function(b,_){if(!b.length||_<2||_>256)return!1;var A,N,U,O=(A=b,U=new Array(32768),A.forEach(function(Z){N=M(Z[0]>>3,Z[1]>>3,Z[2]>>3),U[N]=(U[N]||0)+1}),U);O.forEach(function(){});var k=function(A,N){var U,Z,J,ie=1e6,se=0,j=1e6,oe=0,Q=1e6,ae=0;return A.forEach(function(ee){(U=ee[0]>>3)<ie?ie=U:U>se&&(se=U),(Z=ee[1]>>3)<j?j=Z:Z>oe&&(oe=Z),(J=ee[2]>>3)<Q?Q=J:J>ae&&(ae=J)}),new B(ie,se,j,oe,Q,ae,N)}(b,O),y=new R(function(A,N){return e.naturalOrder(A.count(),N.count())});function w(A,N){for(var U,Z=A.size(),J=0;J<1e3;){if(Z>=N||J++>1e3)return;if((U=A.pop()).count()){var ie=W(O,U),se=ie[0],j=ie[1];if(!se)return;A.push(se),j&&(A.push(j),Z++)}else A.push(U),J++}}y.push(k),w(y,.75*_);for(var C=new R(function(A,N){return e.naturalOrder(A.count()*A.volume(),N.count()*N.volume())});y.size();)C.push(y.pop());w(C,_);for(var E=new K;C.size();)E.push(C.pop());return E}}}().quantize,G=function(L){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=L.naturalWidth,this.height=this.canvas.height=L.naturalHeight,this.context.drawImage(L,0,0,this.width,this.height)};G.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var T=function(){};T.prototype.getColor=function(L,I){return void 0===I&&(I=10),this.getPalette(L,5,I)[0]},T.prototype.getPalette=function(L,I,x){var M=function(W){var b=W.colorCount,_=W.quality;if(void 0!==b&&Number.isInteger(b)){if(1===b)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");b=Math.max(b,2),b=Math.min(b,20)}else b=10;return(void 0===_||!Number.isInteger(_)||_<1)&&(_=10),{colorCount:b,quality:_}}({colorCount:I,quality:x}),R=new G(L),B=function(W,b,_){for(var O=W,k=[],y=0,w=void 0,C=void 0,E=void 0,A=void 0,N=void 0;y<b;y+=_)C=O[0+(w=4*y)],E=O[w+1],A=O[w+2],(void 0===(N=O[w+3])||N>=125)&&(C>250&&E>250&&A>250||k.push([C,E,A]));return k}(R.getImageData().data,R.width*R.height,M.quality),K=v(B,M.colorCount);return K?K.palette():null},T.prototype.getColorFromUrl=function(L,I,x){var M=this,R=document.createElement("img");R.addEventListener("load",function(){var B=M.getPalette(R,5,x);I(B[0],L)}),R.src=L},T.prototype.getImageData=function(L,I){var x=new XMLHttpRequest;x.open("GET",L,!0),x.responseType="arraybuffer",x.onload=function(){if(200==this.status){var M=new Uint8Array(this.response);i=M.length;for(var R=new Array(i),B=0;B<M.length;B++)R[B]=String.fromCharCode(M[B]);var K=R.join(""),W=window.btoa(K);I("data:image/png;base64,"+W)}},x.send()},T.prototype.getColorAsync=function(L,I,x){var M=this;this.getImageData(L,function(R){var B=document.createElement("img");B.addEventListener("load",function(){var K=M.getPalette(B,5,x);I(K[0],this)}),B.src=R})};const D=T}}]);