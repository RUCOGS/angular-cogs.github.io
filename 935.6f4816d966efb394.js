"use strict";(self.webpackChunkrucogs_website=self.webpackChunkrucogs_website||[]).push([[935],{2935:(U,a,o)=>{o.r(a),o.d(a,{LoginPageModule:()=>F});var m=o(8692),s=o(92),u=o(8023),f=o(9676),d=o(3528),t=o(4537),h=o(9942),g=o(3178),p=o(2709),v=o(9638),L=o(8340),l=o(8399);let P=(()=>{class i{constructor(n,e,c){this.authService=e,this.router=c,this.hide=!0,this.errorMessage="",this.isLoginFailed=!1,this.onDestroy$=new u.x,this.form=n.group({username:[null,[s.kI.required]],password:[null,[s.kI.required]]})}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}socialLogin(n){this.performLogin(this.authService.socialLogin(n))}performLogin(n){n.pipe((0,f.P)(),(0,d.R)(this.onDestroy$)).subscribe({next:e=>{this.isLoginFailed=!1,this.router.navigateByUrl("/users/"+e.user.username)},error:e=>{this.errorMessage=e.error.message,this.isLoginFailed=!0}})}onLoginSubmit(){const n=this.form.value;this.performLogin(this.authService.login(n.username,n.password))}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(s.QS),t.Y36(h.e),t.Y36(g.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-login-page"]],decls:8,vars:0,consts:[["full-page",""],[1,"app-login-page","login-container"],[1,"mb-32"],[1,"app-login-page","social-login-container"],["mat-flat-button","","type","submit","color","#5865F2","text-color","#ffffff","tall-button","",3,"click"],["size","24px","icon","discord",1,"app-button","iconify","icon"]],template:function(n,e){1&n&&(t.TgZ(0,"app-section",0)(1,"div",1)(2,"h1",2),t._uU(3,"Log in"),t.qZA(),t.TgZ(4,"div",3)(5,"button",4),t.NdJ("click",function(){return e.socialLogin("discord")}),t._UZ(6,"ic-icon",5),t._uU(7," Login with Discord "),t.qZA()()()())},dependencies:[p.v,v.lW,L.e,l.ar],styles:[".login-container[_ngcontent-%COMP%]{width:min(500px,100%);margin:auto}.social-login-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;margin-bottom:1em}.login-form[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;margin-bottom:1em}.button[_ngcontent-%COMP%]{width:100%}input[type=password][_ngcontent-%COMP%]{font-family:Roboto;font-style:normal;font-weight:700}"]}),i})();var y=o(8659),C=o(3331),M=o(7763),O=o(7406);const S=[{path:"",component:P}];let F=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.Bz.forChild(S),m.ez,M.I,l.QX,y.lN,O.c,C.Ps,s.UX]}),i})()}}]);