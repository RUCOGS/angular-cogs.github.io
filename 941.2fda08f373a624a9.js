"use strict";(self.webpackChunkrucogs_website=self.webpackChunkrucogs_website||[]).push([[941],{6410:(Ce,ie,y)=>{y.d(ie,{h:()=>L});var n=y(4537),S=y(8692);function U(Y,R){1&Y&&n._UZ(0,"div",3)}const T=function(Y){return{"full-page":Y}},t=["*"];let L=(()=>{class Y{constructor(P){this.color="blank",this.fullPage=null!=P}ngOnInit(){}}return Y.\u0275fac=function(P){return new(P||Y)(n.$8M("full-page"))},Y.\u0275cmp=n.Xpm({type:Y,selectors:[["app-bg-container"]],inputs:{color:"color"},ngContentSelectors:t,decls:4,vars:7,consts:[[1,"app-bg-container","bg",3,"ngClass"],[1,"app-bg-container","content"],["style","\n    flex: 1;\n  ",4,"ngIf"],[2,"flex","1"]],template:function(P,E){1&P&&(n.F$t(),n.TgZ(0,"div",0)(1,"div",1),n.Hsn(2),n.qZA(),n.YNc(3,U,1,0,"div",2),n.qZA()),2&P&&(n.Tol(E.color),n.Q6J("ngClass",n.VKq(5,T,E.fullPage)),n.xp6(3),n.Q6J("ngIf",E.fullPage))},dependencies:[S.mk,S.O5],styles:["[_nghost-%COMP%]{flex:1 1 auto}.bg[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;box-sizing:border-box;padding:var(--content-padding);z-index:1}.content[_ngcontent-%COMP%]{height:100%;display:block;margin:auto;width:100%;max-width:var(--content-width)}.full-page[_ngcontent-%COMP%]{min-height:100vh}"]}),Y})()},4022:(Ce,ie,y)=>{y.d(ie,{l:()=>B});var n=y(7165),S=y(8692),U=y(92),T=y(9638),t=y(8659),L=y(3331),Y=y(7406),R=y(3451),P=y(411),E=y(7187),G=y(7950),W=y(6004),x=y(5208),C=(y(2272),y(4537));let B=(()=>{class V{}return V.\u0275fac=function(A){return new(A||V)},V.\u0275mod=C.oAB({type:V}),V.\u0275inj=C.cJS({imports:[S.ez,P.As,T.ot,L.Ps,x.o,E.w,R.z9,W.m,n._t,G.c,Y.c,t.lN,U.u5]}),V})()},2272:(Ce,ie,y)=>{y.d(ie,{J:()=>I});var n=y(8659),S=y(4583),U=y(7117),T=y(7187),t=y(4537),L=y(5208),Y=y(8954),R=y(92),P=y(8692),E=y(9638),G=y(3331);function W(C,B){if(1&C&&t._UZ(0,"img",7),2&C){const V=t.oxw();t.Q6J("src",V.imageSrc,t.LSH)}}function x(C,B){if(1&C){const V=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){t.CHM(V);const A=t.oxw();return t.KtG(A.onDeleteClicked())}),t.TgZ(1,"mat-icon"),t._uU(2,"delete"),t.qZA()()}if(2&C){const V=t.oxw();t.Q6J("disabled",V.monitor.isProcessing||V.disabled)}}let I=(()=>{class C extends T.Y{constructor(V,k,A,b,O){super(A,b,O),this.uiMessageService=V,this.changeDetector=k,this.fileSizeLimit="10 MB",this.imageSrc="",this.edited=!1,this.monitor=new S.y,this.fileSizeLimitBytes=0}ngOnInit(){this.fileSizeLimit.split(" "),this.fileSizeLimitBytes=U.P.byteStringToBytes(this.fileSizeLimit)}init(V){this.imageSrc=V,this.edited=!1,this.value=null}onDeleteClicked(){this.value=null,this.edited=!0,this.imageSrc=""}onImageFileChanged(V){const k=V.target.files[0];k&&(this.monitor.addProcess(),this.changeDetector.detectChanges(),U.P.readAsBase64(k).then(A=>{const b=k.size;b<this.fileSizeLimitBytes?(this.value=k,this.imageSrc=A,this.edited=!0):this.uiMessageService.error(`File size is too big! ${U.P.byteSizeToString(b)} > ${U.P.byteSizeToString(this.fileSizeLimitBytes)}`)}).catch(A=>{console.log(A)}).finally(()=>{this.monitor.removeProcess()}))}}return C.\u0275fac=function(V){return new(V||C)(t.Y36(L.S),t.Y36(t.sBO),t.Y36(Y.tE),t.Y36(t.SBq),t.Y36(R.a5,10))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-image-upload"]],inputs:{fileSizeLimit:"fileSizeLimit",imageSrc:"imageSrc",edited:"edited"},features:[t._Bn([{provide:n.Eo,useExisting:C}]),t.qOj],decls:9,vars:3,consts:[["class","app-image-upload image",3,"src",4,"ngIf"],[1,"app-image-upload","tint"],["type","file","accept","image/png, image/jpeg, image/gif",2,"display","none",3,"change"],["imageFileInput",""],[2,"display","flex","gap","4px"],["mat-icon-button","",1,"app-image-upload","edit-button",3,"disabled","click"],["mat-icon-button","","class","app-image-upload edit-button",3,"disabled","click",4,"ngIf"],[1,"app-image-upload","image",3,"src"]],template:function(V,k){if(1&V){const A=t.EpF();t.YNc(0,W,1,1,"img",0),t._UZ(1,"div",1),t.TgZ(2,"input",2,3),t.NdJ("change",function(O){return k.onImageFileChanged(O)}),t.qZA(),t.TgZ(4,"div",4)(5,"button",5),t.NdJ("click",function(){t.CHM(A);const O=t.MAs(3);return t.KtG(O.click())}),t.TgZ(6,"mat-icon"),t._uU(7,"edit"),t.qZA()(),t.YNc(8,x,3,1,"button",6),t.qZA()}2&V&&(t.Q6J("ngIf",k.imageSrc),t.xp6(5),t.Q6J("disabled",k.monitor.isProcessing||k.disabled),t.xp6(3),t.Q6J("ngIf",k.imageSrc))},dependencies:[P.O5,E.lW,G.Hw],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative;width:100%;height:100%}.image[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;object-fit:cover;border-radius:inherit}.tint[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:#000;opacity:.5;border-radius:inherit}.edit-button[_ngcontent-%COMP%]{color:#fff}"]}),C})()},2842:(Ce,ie,y)=>{y.d(ie,{K:()=>V});var n=y(5436),S=y(4537),U=y(92),T=y(1927),t=y(7969),L=y(3176),Y=y(8692),R=y(7084),P=y(1379),E=y(1637),G=y(8659),W=y(3331);const x=["roleInput"];function I(k,A){if(1&k&&(S.TgZ(0,"mat-label"),S._uU(1),S.qZA()),2&k){const b=S.oxw();S.xp6(1),S.Oqu(b.label)}}function C(k,A){if(1&k){const b=S.EpF();S.TgZ(0,"mat-chip",10),S.NdJ("removed",function(){const z=S.CHM(b).$implicit,Z=S.oxw();return S.KtG(Z.onRemoveRole(z))}),S._uU(1),S.TgZ(2,"button",11)(3,"mat-icon"),S._uU(4,"cancel"),S.qZA()()()}if(2&k){const b=A.$implicit,O=S.oxw();S.Q6J("disabled",O.disabledRoles.includes(b)),S.xp6(1),S.hij(" ",O.getRoleData(b).name," ")}}function B(k,A){if(1&k&&(S.TgZ(0,"mat-option",12),S._uU(1),S.qZA()),2&k){const b=A.$implicit,O=S.oxw();S.Q6J("value",b),S.xp6(1),S.hij(" ",O.getRoleData(b).name," ")}}let V=(()=>{class k{constructor(){this.rolesEdited=new S.vpe,this.label="",this.roles=[],this.allRoles=[],this.disabledRoles=[],this.disabled=!1,this.separatorKeysCodes=[n.K5,n.OC],this.roleControl=new U.p4,this.filteredRoles=this.roleControl.valueChanges.pipe((0,T.O)(null),(0,t.U)(b=>this._filter(b)))}ngOnInit(){}onRemoveRole(b){const O=this.roles.indexOf(b);O>=0&&(this.roles.splice(O,1),this.rolesEdited.emit()),this.roleControl.setValue(null)}onAddRoleChip(b){const O=(b.value||"").trim();this.validateNewRole(O)&&(this.roles.push(O),this.rolesEdited.emit()),b.chipInput.clear(),this.roleControl.setValue(null)}onRoleAutoSelected(b){!this.validateNewRole(b.option.value)||(this.roles.push(b.option.value),this.roleInput.nativeElement.value="",this.roleControl.setValue(null),this.rolesEdited.emit())}getRoleData(b){return L.Kh[b]}validateNewRole(b){return this.allRoles.includes(b)&&!this.roles.includes(b)}_filter(b){let O=this.allRoles.filter(N=>!this.roles.includes(N));if(b){const N=b.toLowerCase();return O.filter(z=>z.toLowerCase().includes(N))}return O}}return k.\u0275fac=function(b){return new(b||k)},k.\u0275cmp=S.Xpm({type:k,selectors:[["app-role-codes-editor"]],viewQuery:function(b,O){if(1&b&&S.Gf(x,5),2&b){let N;S.iGM(N=S.CRH())&&(O.roleInput=N.first)}},inputs:{label:"label",roles:"roles",allRoles:"allRoles",disabledRoles:"disabledRoles",disabled:"disabled"},outputs:{rolesEdited:"rolesEdited"},decls:11,vars:10,consts:[["appearance","outline",2,"width","100%"],[4,"ngIf"],["aria-label","Role selection",3,"disabled"],["roleChipList",""],[3,"disabled","removed",4,"ngFor","ngForOf"],["placeholder","New role...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputTokenEnd"],["roleInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"disabled","removed"],["matChipRemove",""],[3,"value"]],template:function(b,O){if(1&b&&(S.TgZ(0,"mat-form-field",0),S.YNc(1,I,2,1,"mat-label",1),S.TgZ(2,"mat-chip-list",2,3),S.YNc(4,C,5,2,"mat-chip",4),S.TgZ(5,"input",5,6),S.NdJ("matChipInputTokenEnd",function(z){return O.onAddRoleChip(z)}),S.qZA()(),S.TgZ(7,"mat-autocomplete",7,8),S.NdJ("optionSelected",function(z){return O.onRoleAutoSelected(z)}),S.YNc(9,B,2,2,"mat-option",9),S.ALo(10,"async"),S.qZA()()),2&b){const N=S.MAs(3),z=S.MAs(8);S.xp6(1),S.Q6J("ngIf",O.label),S.xp6(1),S.Q6J("disabled",O.disabled),S.xp6(2),S.Q6J("ngForOf",O.roles),S.xp6(1),S.Q6J("formControl",O.roleControl)("matAutocomplete",z)("matChipInputFor",N)("matChipInputSeparatorKeyCodes",O.separatorKeysCodes),S.xp6(4),S.Q6J("ngForOf",S.lcZ(10,8,O.filteredRoles))}},dependencies:[Y.sg,Y.O5,R.qn,R.HS,R.oH,R.qH,P.ey,E.XC,E.ZL,G.KE,G.hX,U.Fj,U.JJ,U.oH,W.Hw,Y.Ov]}),k})()},411:(Ce,ie,y)=>{y.d(ie,{As:()=>U});var n=y(8692),S=y(4537);let U=(()=>{class T{}return T.\u0275fac=function(L){return new(L||T)},T.\u0275mod=S.oAB({type:T}),T.\u0275inj=S.cJS({imports:[n.ez]}),T})()},7117:(Ce,ie,y)=>{y.d(ie,{P:()=>S});var n=(()=>{return(U=n||(n={}))[U.GB=1e9]="GB",U[U.MB=1e6]="MB",U[U.KB=1e3]="KB",U[U.B=1]="B",n;var U})();class S{static byteSizeToString(T){return T>n.GB?`${this.byteTo(T,n.GB)} GB`:T>n.MB?`${this.byteTo(T,n.MB)} MB`:T>n.KB?`${this.byteTo(T,n.KB)} KB`:"byteSize B"}static byteStringToBytes(T){const t=T.split(" ");let L=parseFloat(t[0]);switch(t[1].toUpperCase()){case"GB":L*=1e9;break;case"MB":L*=1e6;break;case"KB":L*=1e3}return L}static readAsBase64(T){const t=new FileReader;return new Promise((Y,R)=>{t.addEventListener("load",()=>{const P=t.result;return P?Y(P):R("Cannot read file as base64.")}),t.addEventListener("error",P=>R(P)),t.readAsDataURL(T)})}static base64ToByteSize(T){return 4*T.replace("=","").length/3}static byteTo(T,t){return T/t}}},9860:(Ce,ie,y)=>{function n(R,P){return(R%P+P)%P}function S(R,P,E){const G=[];for(let W=0;W<E;W++){const x=n(P+W,R.length);G.push(R[x])}return G}function U(R,P){if(R===P)return!0;if(null==R||null==P||R.length!==P.length)return!1;for(var E=0;E<R.length;++E)if(R[E]!==P[E])return!1;return!0}function T(R,P,E){return R&&P?(R<P?-1:1)*(E?1:-1):0}function t(R){return JSON.parse(JSON.stringify(R))}y.d(ie,{DQ:()=>n,I8:()=>t,Xl:()=>S,cO:()=>U,qu:()=>T})},7165:(Ce,ie,y)=>{y.d(ie,{Zt:()=>it,Bh:()=>tt,Wj:()=>ze,_t:()=>$e,bA:()=>be});var n=y(4537),S=y(8692),U=y(5531),T=y(6321),t=y(4929),L=y(8954),Y=y(6523),R=y(7878),E=y(8023),G=y(4813),W=y(9239),x=y(818),I=y(1860),C=y(3528),B=y(1927),V=y(7969),k=y(5598),A=y(8168),b=y(1528),O=y(5875);function N(D,o,r){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];p?D.setProperty(h,p,r?.has(h)?"important":""):D.removeProperty(h)}return D}function z(D,o){const r=o?"":"none";N(D.style,{"touch-action":o?"":"none","-webkit-user-drag":o?"":"none","-webkit-tap-highlight-color":o?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function Z(D,o,r){N(D.style,{position:o?"":"fixed",top:o?"":"0",opacity:o?"":"0",left:o?"":"-999em"},r)}function $(D,o){return o&&"none"!=o?D+" "+o:D}function q(D){const o=D.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(D)*o}function oe(D,o){return D.getPropertyValue(o).split(",").map(h=>h.trim())}function Q(D){const o=D.getBoundingClientRect();return{top:o.top,right:o.right,bottom:o.bottom,left:o.left,width:o.width,height:o.height,x:o.x,y:o.y}}function le(D,o,r){const{top:h,bottom:p,left:m,right:v}=D;return r>=h&&r<=p&&o>=m&&o<=v}function ee(D,o,r){D.top+=o,D.bottom=D.top+D.height,D.left+=r,D.right=D.left+D.width}function de(D,o,r,h){const{top:p,right:m,bottom:v,left:w,width:F,height:H}=D,j=F*o,X=H*o;return h>p-X&&h<v+X&&r>w-j&&r<m+j}class ne{constructor(o){this._document=o,this.positions=new Map}clear(){this.positions.clear()}cache(o){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),o.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:Q(r)})})}handleScroll(o){const r=(0,T.sA)(o),h=this.positions.get(r);if(!h)return null;const p=h.scrollPosition;let m,v;if(r===this._document){const H=this.getViewportScrollPosition();m=H.top,v=H.left}else m=r.scrollTop,v=r.scrollLeft;const w=p.top-m,F=p.left-v;return this.positions.forEach((H,j)=>{H.clientRect&&r!==j&&r.contains(j)&&ee(H.clientRect,w,F)}),p.top=m,p.left=v,{top:w,left:F}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function De(D){const o=D.cloneNode(!0),r=o.querySelectorAll("[id]"),h=D.nodeName.toLowerCase();o.removeAttribute("id");for(let p=0;p<r.length;p++)r[p].removeAttribute("id");return"canvas"===h?Ie(D,o):("input"===h||"select"===h||"textarea"===h)&&Qe(D,o),xe("canvas",D,o,Ie),xe("input, textarea, select",D,o,Qe),o}function xe(D,o,r,h){const p=o.querySelectorAll(D);if(p.length){const m=r.querySelectorAll(D);for(let v=0;v<p.length;v++)h(p[v],m[v])}}let Ne=0;function Qe(D,o){"file"!==o.type&&(o.value=D.value),"radio"===o.type&&o.name&&(o.name=`mat-clone-${o.name}-${Ne++}`)}function Ie(D,o){const r=o.getContext("2d");if(r)try{r.drawImage(D,0,0)}catch{}}const He=(0,T.i$)({passive:!0}),Oe=(0,T.i$)({passive:!1}),Ge=new Set(["position"]);class nt{constructor(o,r,h,p,m,v){this._config=r,this._document=h,this._ngZone=p,this._viewportRuler=m,this._dragDropRegistry=v,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new E.x,this._pointerMoveSubscription=G.w0.EMPTY,this._pointerUpSubscription=G.w0.EMPTY,this._scrollSubscription=G.w0.EMPTY,this._resizeSubscription=G.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new E.x,this.started=new E.x,this.released=new E.x,this.ended=new E.x,this.entered=new E.x,this.exited=new E.x,this.dropped=new E.x,this.moved=this._moveEvents,this._pointerDown=w=>{if(this.beforeStarted.next(),this._handles.length){const F=this._getTargetHandle(w);F&&!this._disabledHandles.has(F)&&!this.disabled&&this._initializeDragSequence(F,w)}else this.disabled||this._initializeDragSequence(this._rootElement,w)},this._pointerMove=w=>{const F=this._getPointerPositionOnPage(w);if(!this._hasStartedDragging){if(Math.abs(F.x-this._pickupPositionOnPage.x)+Math.abs(F.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Re=Date.now()>=this._dragStartTime+this._getDragStartDelay(w),ke=this._dropContainer;if(!Re)return void this._endDragSequence(w);(!ke||!ke.isDragging()&&!ke.isReceiving())&&(w.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(w)))}return}w.preventDefault();const H=this._getConstrainedPointerPosition(F);if(this._hasMoved=!0,this._lastKnownPointerPosition=F,this._updatePointerDirectionDelta(H),this._dropContainer)this._updateActiveDropContainer(H,F);else{const j=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,X=this._activeTransform;X.x=H.x-j.x+this._passiveTransform.x,X.y=H.y-j.y+this._passiveTransform.y,this._applyRootElementTransform(X.x,X.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:H,event:w,distance:this._getDragDistance(H),delta:this._pointerDirectionDelta})})},this._pointerUp=w=>{this._endDragSequence(w)},this._nativeDragStart=w=>{if(this._handles.length){const F=this._getTargetHandle(w);F&&!this._disabledHandles.has(F)&&!this.disabled&&w.preventDefault()}else this.disabled||w.preventDefault()},this.withRootElement(o).withParent(r.parentDragRef||null),this._parentPositions=new ne(h),v.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(o){const r=(0,t.Ig)(o);r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(h=>z(h,r)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(o){this._handles=o.map(h=>(0,t.fI)(h)),this._handles.forEach(h=>z(h,this.disabled)),this._toggleNativeDragInteractions();const r=new Set;return this._disabledHandles.forEach(h=>{this._handles.indexOf(h)>-1&&r.add(h)}),this._disabledHandles=r,this}withPreviewTemplate(o){return this._previewTemplate=o,this}withPlaceholderTemplate(o){return this._placeholderTemplate=o,this}withRootElement(o){const r=(0,t.fI)(o);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,Oe),r.addEventListener("touchstart",this._pointerDown,He),r.addEventListener("dragstart",this._nativeDragStart,Oe)}),this._initialTransform=void 0,this._rootElement=r),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(o){return this._boundaryElement=o?(0,t.fI)(o):null,this._resizeSubscription.unsubscribe(),o&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(o){return this._parentDragRef=o,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(o){!this._disabledHandles.has(o)&&this._handles.indexOf(o)>-1&&(this._disabledHandles.add(o),z(o,!0))}enableHandle(o){this._disabledHandles.has(o)&&(this._disabledHandles.delete(o),z(o,this.disabled))}withDirection(o){return this._direction=o,this}_withDropContainer(o){this._dropContainer=o}getFreeDragPosition(){const o=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:o.x,y:o.y}}setFreeDragPosition(o){return this._activeTransform={x:0,y:0},this._passiveTransform.x=o.x,this._passiveTransform.y=o.y,this._dropContainer||this._applyRootElementTransform(o.x,o.y),this}withPreviewContainer(o){return this._previewContainer=o,this}_sortFromLastPointerPosition(){const o=this._lastKnownPointerPosition;o&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(o),o)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(o){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:o}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(o),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const r=this._getPointerPositionOnPage(o);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r,event:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(o){te(o)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const r=this._dropContainer;if(r){const h=this._rootElement,p=h.parentNode,m=this._placeholder=this._createPlaceholderElement(),v=this._anchor=this._anchor||this._document.createComment(""),w=this._getShadowRoot();p.insertBefore(v,h),this._initialTransform=h.style.transform||"",this._preview=this._createPreviewElement(),Z(h,!1,Ge),this._document.body.appendChild(p.replaceChild(m,h)),this._getPreviewInsertionPoint(p,w).appendChild(this._preview),this.started.next({source:this,event:o}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:o}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(o,r){this._parentDragRef&&r.stopPropagation();const h=this.isDragging(),p=te(r),m=!p&&0!==r.button,v=this._rootElement,w=(0,T.sA)(r),F=!p&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),H=p?(0,L.yG)(r):(0,L.X6)(r);if(w&&w.draggable&&"mousedown"===r.type&&r.preventDefault(),h||m||F||H)return;if(this._handles.length){const ue=v.style;this._rootElementTapHighlight=ue.webkitTapHighlightColor||"",ue.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ue=>this._updateOnScroll(ue)),this._boundaryElement&&(this._boundaryRect=Q(this._boundaryElement));const j=this._previewTemplate;this._pickupPositionInElement=j&&j.template&&!j.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,o,r);const X=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:X.x,y:X.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(o){Z(this._rootElement,!0,Ge),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const r=this._dropContainer,h=r.getItemIndex(this),p=this._getPointerPositionOnPage(o),m=this._getDragDistance(p),v=r._isOverContainer(p.x,p.y);this.ended.next({source:this,distance:m,dropPoint:p,event:o}),this.dropped.next({item:this,currentIndex:h,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:v,distance:m,dropPoint:p,event:o}),r.drop(this,h,this._initialIndex,this._initialContainer,v,m,p),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:o,y:r},{x:h,y:p}){let m=this._initialContainer._getSiblingContainerFromPosition(this,o,r);!m&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(o,r)&&(m=this._initialContainer),m&&m!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=m,this._dropContainer.enter(this,o,r,m===this._initialContainer&&m.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:m,currentIndex:m.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(h,p),this._dropContainer._sortItem(this,o,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(o,r):this._applyPreviewTransform(o-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_createPreviewElement(){const o=this._previewTemplate,r=this.previewClass,h=o?o.template:null;let p;if(h&&o){const m=o.matchSize?this._initialClientRect:null,v=o.viewContainer.createEmbeddedView(h,o.context);v.detectChanges(),p=Se(v,this._document),this._previewRef=v,o.matchSize?we(p,m):p.style.transform=ce(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else p=De(this._rootElement),we(p,this._initialClientRect),this._initialTransform&&(p.style.transform=this._initialTransform);return N(p.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ge),z(p,!1),p.classList.add("cdk-drag-preview"),p.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(m=>p.classList.add(m)):p.classList.add(r)),p}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const o=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(o.left,o.top);const r=function se(D){const o=getComputedStyle(D),r=oe(o,"transition-property"),h=r.find(w=>"transform"===w||"all"===w);if(!h)return 0;const p=r.indexOf(h),m=oe(o,"transition-duration"),v=oe(o,"transition-delay");return q(m[p])+q(v[p])}(this._preview);return 0===r?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(h=>{const p=v=>{(!v||(0,T.sA)(v)===this._preview&&"transform"===v.propertyName)&&(this._preview?.removeEventListener("transitionend",p),h(),clearTimeout(m))},m=setTimeout(p,1.5*r);this._preview.addEventListener("transitionend",p)}))}_createPlaceholderElement(){const o=this._placeholderTemplate,r=o?o.template:null;let h;return r?(this._placeholderRef=o.viewContainer.createEmbeddedView(r,o.context),this._placeholderRef.detectChanges(),h=Se(this._placeholderRef,this._document)):h=De(this._rootElement),h.style.pointerEvents="none",h.classList.add("cdk-drag-placeholder"),h}_getPointerPositionInElement(o,r,h){const p=r===this._rootElement?null:r,m=p?p.getBoundingClientRect():o,v=te(h)?h.targetTouches[0]:h,w=this._getViewportScrollPosition();return{x:m.left-o.left+(v.pageX-m.left-w.left),y:m.top-o.top+(v.pageY-m.top-w.top)}}_getPointerPositionOnPage(o){const r=this._getViewportScrollPosition(),h=te(o)?o.touches[0]||o.changedTouches[0]||{pageX:0,pageY:0}:o,p=h.pageX-r.left,m=h.pageY-r.top;if(this._ownerSVGElement){const v=this._ownerSVGElement.getScreenCTM();if(v){const w=this._ownerSVGElement.createSVGPoint();return w.x=p,w.y=m,w.matrixTransform(v.inverse())}}return{x:p,y:m}}_getConstrainedPointerPosition(o){const r=this._dropContainer?this._dropContainer.lockAxis:null;let{x:h,y:p}=this.constrainPosition?this.constrainPosition(o,this,this._initialClientRect):o;if("x"===this.lockAxis||"x"===r?p=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===r)&&(h=this._pickupPositionOnPage.x),this._boundaryRect){const{x:m,y:v}=this._pickupPositionInElement,w=this._boundaryRect,{width:F,height:H}=this._getPreviewRect(),j=w.top+v,X=w.bottom-(H-v);h=ve(h,w.left+m,w.right-(F-m)),p=ve(p,j,X)}return{x:h,y:p}}_updatePointerDirectionDelta(o){const{x:r,y:h}=o,p=this._pointerDirectionDelta,m=this._pointerPositionAtLastDirectionChange,v=Math.abs(r-m.x),w=Math.abs(h-m.y);return v>this._config.pointerDirectionChangeThreshold&&(p.x=r>m.x?1:-1,m.x=r),w>this._config.pointerDirectionChangeThreshold&&(p.y=h>m.y?1:-1,m.y=h),p}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const o=this._handles.length>0||!this.isDragging();o!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=o,z(this._rootElement,o))}_removeRootElementListeners(o){o.removeEventListener("mousedown",this._pointerDown,Oe),o.removeEventListener("touchstart",this._pointerDown,He),o.removeEventListener("dragstart",this._nativeDragStart,Oe)}_applyRootElementTransform(o,r){const h=ce(o,r),p=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=p.transform&&"none"!=p.transform?p.transform:""),p.transform=$(h,this._initialTransform)}_applyPreviewTransform(o,r){const h=this._previewTemplate?.template?void 0:this._initialTransform,p=ce(o,r);this._preview.style.transform=$(p,h)}_getDragDistance(o){const r=this._pickupPositionOnPage;return r?{x:o.x-r.x,y:o.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:o,y:r}=this._passiveTransform;if(0===o&&0===r||this.isDragging()||!this._boundaryElement)return;const h=this._rootElement.getBoundingClientRect(),p=this._boundaryElement.getBoundingClientRect();if(0===p.width&&0===p.height||0===h.width&&0===h.height)return;const m=p.left-h.left,v=h.right-p.right,w=p.top-h.top,F=h.bottom-p.bottom;p.width>h.width?(m>0&&(o+=m),v>0&&(o-=v)):o=0,p.height>h.height?(w>0&&(r+=w),F>0&&(r-=F)):r=0,(o!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:o})}_getDragStartDelay(o){const r=this.dragStartDelay;return"number"==typeof r?r:te(o)?r.touch:r?r.mouse:0}_updateOnScroll(o){const r=this._parentPositions.handleScroll(o);if(r){const h=(0,T.sA)(o);this._boundaryRect&&h!==this._boundaryElement&&h.contains(this._boundaryElement)&&ee(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,T.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(o,r){const h=this._previewContainer||"global";if("parent"===h)return o;if("global"===h){const p=this._document;return r||p.fullscreenElement||p.webkitFullscreenElement||p.mozFullScreenElement||p.msFullscreenElement||p.body}return(0,t.fI)(h)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(o){return this._handles.find(r=>o.target&&(o.target===r||r.contains(o.target)))}}function ce(D,o){return`translate3d(${Math.round(D)}px, ${Math.round(o)}px, 0)`}function ve(D,o,r){return Math.max(o,Math.min(r,D))}function te(D){return"t"===D.type[0]}function Se(D,o){const r=D.rootNodes;if(1===r.length&&r[0].nodeType===o.ELEMENT_NODE)return r[0];const h=o.createElement("div");return r.forEach(p=>h.appendChild(p)),h}function we(D,o){D.style.width=`${o.width}px`,D.style.height=`${o.height}px`,D.style.transform=ce(o.left,o.top)}function be(D,o,r){const h=he(o,D.length-1),p=he(r,D.length-1);if(h===p)return;const m=D[h],v=p<h?-1:1;for(let w=h;w!==p;w+=v)D[w]=D[w+v];D[p]=m}function he(D,o){return Math.max(0,Math.min(o,D))}class rt{constructor(o,r){this._element=o,this._dragDropRegistry=r,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(o){this.withItems(o)}sort(o,r,h,p){const m=this._itemPositions,v=this._getItemIndexFromPointerPosition(o,r,h,p);if(-1===v&&m.length>0)return null;const w="horizontal"===this.orientation,F=m.findIndex(_e=>_e.drag===o),H=m[v],X=H.clientRect,ue=F>v?1:-1,Re=this._getItemOffsetPx(m[F].clientRect,X,ue),ke=this._getSiblingOffsetPx(F,m,ue),Pe=m.slice();return be(m,F,v),m.forEach((_e,ct)=>{if(Pe[ct]===_e)return;const ht=_e.drag===o,at=ht?Re:ke,d=ht?o.getPlaceholderElement():_e.drag.getRootElement();_e.offset+=at,w?(d.style.transform=$(`translate3d(${Math.round(_e.offset)}px, 0, 0)`,_e.initialTransform),ee(_e.clientRect,0,at)):(d.style.transform=$(`translate3d(0, ${Math.round(_e.offset)}px, 0)`,_e.initialTransform),ee(_e.clientRect,at,0))}),this._previousSwap.overlaps=le(X,r,h),this._previousSwap.drag=H.drag,this._previousSwap.delta=w?p.x:p.y,{previousIndex:F,currentIndex:v}}enter(o,r,h,p){const m=null==p||p<0?this._getItemIndexFromPointerPosition(o,r,h):p,v=this._activeDraggables,w=v.indexOf(o),F=o.getPlaceholderElement();let H=v[m];if(H===o&&(H=v[m+1]),!H&&(null==m||-1===m||m<v.length-1)&&this._shouldEnterAsFirstChild(r,h)&&(H=v[0]),w>-1&&v.splice(w,1),H&&!this._dragDropRegistry.isDragging(H)){const j=H.getRootElement();j.parentElement.insertBefore(F,j),v.splice(m,0,o)}else(0,t.fI)(this._element).appendChild(F),v.push(o);F.style.transform="",this._cacheItemPositions()}withItems(o){this._activeDraggables=o.slice(),this._cacheItemPositions()}withSortPredicate(o){this._sortPredicate=o}reset(){this._activeDraggables.forEach(o=>{const r=o.getRootElement();if(r){const h=this._itemPositions.find(p=>p.drag===o)?.initialTransform;r.style.transform=h||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(o){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(h=>h.drag===o)}updateOnScroll(o,r){this._itemPositions.forEach(({clientRect:h})=>{ee(h,o,r)}),this._itemPositions.forEach(({drag:h})=>{this._dragDropRegistry.isDragging(h)&&h._sortFromLastPointerPosition()})}_cacheItemPositions(){const o="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(r=>{const h=r.getVisibleElement();return{drag:r,offset:0,initialTransform:h.style.transform||"",clientRect:Q(h)}}).sort((r,h)=>o?r.clientRect.left-h.clientRect.left:r.clientRect.top-h.clientRect.top)}_getItemOffsetPx(o,r,h){const p="horizontal"===this.orientation;let m=p?r.left-o.left:r.top-o.top;return-1===h&&(m+=p?r.width-o.width:r.height-o.height),m}_getSiblingOffsetPx(o,r,h){const p="horizontal"===this.orientation,m=r[o].clientRect,v=r[o+-1*h];let w=m[p?"width":"height"]*h;if(v){const F=p?"left":"top",H=p?"right":"bottom";-1===h?w-=v.clientRect[F]-m[H]:w+=m[F]-v.clientRect[H]}return w}_shouldEnterAsFirstChild(o,r){if(!this._activeDraggables.length)return!1;const h=this._itemPositions,p="horizontal"===this.orientation;if(h[0].drag!==this._activeDraggables[0]){const v=h[h.length-1].clientRect;return p?o>=v.right:r>=v.bottom}{const v=h[0].clientRect;return p?o<=v.left:r<=v.top}}_getItemIndexFromPointerPosition(o,r,h,p){const m="horizontal"===this.orientation,v=this._itemPositions.findIndex(({drag:w,clientRect:F})=>{if(w===o)return!1;if(p){const H=m?p.x:p.y;if(w===this._previousSwap.drag&&this._previousSwap.overlaps&&H===this._previousSwap.delta)return!1}return m?r>=Math.floor(F.left)&&r<Math.floor(F.right):h>=Math.floor(F.top)&&h<Math.floor(F.bottom)});return-1!==v&&this._sortPredicate(v,o)?v:-1}}class qe{constructor(o,r,h,p,m){this._dragDropRegistry=r,this._ngZone=p,this._viewportRuler=m,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new E.x,this.entered=new E.x,this.exited=new E.x,this.dropped=new E.x,this.sorted=new E.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=G.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new E.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function P(D=0,o=Y.z){return D<0&&(D=0),(0,R.H)(D,D,o)}(0,W.Z).pipe((0,C.R)(this._stopScrollTimers)).subscribe(()=>{const v=this._scrollNode,w=this.autoScrollStep;1===this._verticalScrollDirection?v.scrollBy(0,-w):2===this._verticalScrollDirection&&v.scrollBy(0,w),1===this._horizontalScrollDirection?v.scrollBy(-w,0):2===this._horizontalScrollDirection&&v.scrollBy(w,0)})},this.element=(0,t.fI)(o),this._document=h,this.withScrollableParents([this.element]),r.registerDropContainer(this),this._parentPositions=new ne(h),this._sortStrategy=new rt(this.element,r),this._sortStrategy.withSortPredicate((v,w)=>this.sortPredicate(v,w,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(o,r,h,p){this._draggingStarted(),null==p&&this.sortingDisabled&&(p=this._draggables.indexOf(o)),this._sortStrategy.enter(o,r,h,p),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:o,container:this,currentIndex:this.getItemIndex(o)})}exit(o){this._reset(),this.exited.next({item:o,container:this})}drop(o,r,h,p,m,v,w,F={}){this._reset(),this.dropped.next({item:o,currentIndex:r,previousIndex:h,container:this,previousContainer:p,isPointerOverContainer:m,distance:v,dropPoint:w,event:F})}withItems(o){const r=this._draggables;return this._draggables=o,o.forEach(h=>h._withDropContainer(this)),this.isDragging()&&(r.filter(p=>p.isDragging()).every(p=>-1===o.indexOf(p))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(o){return this._sortStrategy.direction=o,this}connectedTo(o){return this._siblings=o.slice(),this}withOrientation(o){return this._sortStrategy.orientation=o,this}withScrollableParents(o){const r=(0,t.fI)(this.element);return this._scrollableElements=-1===o.indexOf(r)?[r,...o]:o.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(o){return this._isDragging?this._sortStrategy.getItemIndex(o):this._draggables.indexOf(o)}isReceiving(){return this._activeSiblings.size>0}_sortItem(o,r,h,p){if(this.sortingDisabled||!this._clientRect||!de(this._clientRect,.05,r,h))return;const m=this._sortStrategy.sort(o,r,h,p);m&&this.sorted.next({previousIndex:m.previousIndex,currentIndex:m.currentIndex,container:this,item:o})}_startScrollingIfNecessary(o,r){if(this.autoScrollDisabled)return;let h,p=0,m=0;if(this._parentPositions.positions.forEach((v,w)=>{w===this._document||!v.clientRect||h||de(v.clientRect,.05,o,r)&&([p,m]=function Fe(D,o,r,h){const p=et(o,h),m=st(o,r);let v=0,w=0;if(p){const F=D.scrollTop;1===p?F>0&&(v=1):D.scrollHeight-F>D.clientHeight&&(v=2)}if(m){const F=D.scrollLeft;1===m?F>0&&(w=1):D.scrollWidth-F>D.clientWidth&&(w=2)}return[v,w]}(w,v.clientRect,o,r),(p||m)&&(h=w))}),!p&&!m){const{width:v,height:w}=this._viewportRuler.getViewportSize(),F={width:v,height:w,top:0,right:v,bottom:w,left:0};p=et(F,r),m=st(F,o),h=window}h&&(p!==this._verticalScrollDirection||m!==this._horizontalScrollDirection||h!==this._scrollNode)&&(this._verticalScrollDirection=p,this._horizontalScrollDirection=m,this._scrollNode=h,(p||m)&&h?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const o=(0,t.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=o.msScrollSnapType||o.scrollSnapType||"",o.scrollSnapType=o.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const o=(0,t.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(o).clientRect}_reset(){this._isDragging=!1;const o=(0,t.fI)(this.element).style;o.scrollSnapType=o.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(r=>r._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(o,r){return null!=this._clientRect&&le(this._clientRect,o,r)}_getSiblingContainerFromPosition(o,r,h){return this._siblings.find(p=>p._canReceive(o,r,h))}_canReceive(o,r,h){if(!this._clientRect||!le(this._clientRect,r,h)||!this.enterPredicate(o,this))return!1;const p=this._getShadowRoot().elementFromPoint(r,h);if(!p)return!1;const m=(0,t.fI)(this.element);return p===m||m.contains(p)}_startReceiving(o,r){const h=this._activeSiblings;!h.has(o)&&r.every(p=>this.enterPredicate(p,this)||this._draggables.indexOf(p)>-1)&&(h.add(o),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(o){this._activeSiblings.delete(o),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(o=>{if(this.isDragging()){const r=this._parentPositions.handleScroll(o);r&&this._sortStrategy.updateOnScroll(r.top,r.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const o=(0,T.kV)((0,t.fI)(this.element));this._cachedShadowRoot=o||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const o=this._sortStrategy.getActiveItemsSnapshot().filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,o))}}function et(D,o){const{top:r,bottom:h,height:p}=D,m=.05*p;return o>=r-m&&o<=r+m?1:o>=h-m&&o<=h+m?2:0}function st(D,o){const{left:r,right:h,width:p}=D,m=.05*p;return o>=r-m&&o<=r+m?1:o>=h-m&&o<=h+m?2:0}const Ve=(0,T.i$)({passive:!1,capture:!0});let Be=(()=>{class D{constructor(r,h){this._ngZone=r,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=p=>p.isDragging(),this.pointerMove=new E.x,this.pointerUp=new E.x,this.scroll=new E.x,this._preventDefaultWhileDragging=p=>{this._activeDragInstances.length>0&&p.preventDefault()},this._persistentTouchmoveListener=p=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&p.preventDefault(),this.pointerMove.next(p))},this._document=h}registerDropContainer(r){this._dropInstances.has(r)||this._dropInstances.add(r)}registerDragItem(r){this._dragInstances.add(r),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ve)})}removeDropContainer(r){this._dropInstances.delete(r)}removeDragItem(r){this._dragInstances.delete(r),this.stopDragging(r),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ve)}startDragging(r,h){if(!(this._activeDragInstances.indexOf(r)>-1)&&(this._activeDragInstances.push(r),1===this._activeDragInstances.length)){const p=h.type.startsWith("touch");this._globalListeners.set(p?"touchend":"mouseup",{handler:m=>this.pointerUp.next(m),options:!0}).set("scroll",{handler:m=>this.scroll.next(m),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ve}),p||this._globalListeners.set("mousemove",{handler:m=>this.pointerMove.next(m),options:Ve}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((m,v)=>{this._document.addEventListener(v,m.handler,m.options)})})}}stopDragging(r){const h=this._activeDragInstances.indexOf(r);h>-1&&(this._activeDragInstances.splice(h,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(r){return this._activeDragInstances.indexOf(r)>-1}scrolled(r){const h=[this.scroll];return r&&r!==this._document&&h.push(new x.y(p=>this._ngZone.runOutsideAngular(()=>{const v=w=>{this._activeDragInstances.length&&p.next(w)};return r.addEventListener("scroll",v,!0),()=>{r.removeEventListener("scroll",v,!0)}}))),(0,I.T)(...h)}ngOnDestroy(){this._dragInstances.forEach(r=>this.removeDragItem(r)),this._dropInstances.forEach(r=>this.removeDropContainer(r)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((r,h)=>{this._document.removeEventListener(h,r.handler,r.options)}),this._globalListeners.clear()}}return D.\u0275fac=function(r){return new(r||D)(n.LFG(n.R0b),n.LFG(S.K0))},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const ot={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ge=(()=>{class D{constructor(r,h,p,m){this._document=r,this._ngZone=h,this._viewportRuler=p,this._dragDropRegistry=m}createDrag(r,h=ot){return new nt(r,h,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(r){return new qe(r,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return D.\u0275fac=function(r){return new(r||D)(n.LFG(S.K0),n.LFG(n.R0b),n.LFG(U.rL),n.LFG(Be))},D.\u0275prov=n.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const ye=new n.OlP("CDK_DRAG_PARENT"),ae=new n.OlP("CdkDropListGroup"),Ue=new n.OlP("CDK_DRAG_CONFIG");let me=0;const Me=new n.OlP("CdkDropList");let ze=(()=>{class D{constructor(r,h,p,m,v,w,F){this.element=r,this._changeDetectorRef=p,this._scrollDispatcher=m,this._dir=v,this._group=w,this._destroyed=new E.x,this.connectedTo=[],this.id="cdk-drop-list-"+me++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.sorted=new n.vpe,this._unsortedItems=new Set,this._dropListRef=h.createDropList(r),this._dropListRef.data=this,F&&this._assignDefaults(F),this._dropListRef.enterPredicate=(H,j)=>this.enterPredicate(H.data,j.data),this._dropListRef.sortPredicate=(H,j,X)=>this.sortPredicate(H,j.data,X.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),D._dropLists.push(this),w&&w._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(r){this._dropListRef.disabled=this._disabled=(0,t.Ig)(r)}addItem(r){this._unsortedItems.add(r),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(r){this._unsortedItems.delete(r),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((r,h)=>r._dragRef.getVisibleElement().compareDocumentPosition(h._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const r=D._dropLists.indexOf(this);r>-1&&D._dropLists.splice(r,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(r){this._dir&&this._dir.change.pipe((0,B.O)(this._dir.value),(0,C.R)(this._destroyed)).subscribe(h=>r.withDirection(h)),r.beforeStarted.subscribe(()=>{const h=(0,t.Eq)(this.connectedTo).map(p=>"string"==typeof p?D._dropLists.find(v=>v.id===p):p);if(this._group&&this._group._items.forEach(p=>{-1===h.indexOf(p)&&h.push(p)}),!this._scrollableParentsResolved){const p=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(m=>m.getElementRef().nativeElement);this._dropListRef.withScrollableParents(p),this._scrollableParentsResolved=!0}r.disabled=this.disabled,r.lockAxis=this.lockAxis,r.sortingDisabled=(0,t.Ig)(this.sortingDisabled),r.autoScrollDisabled=(0,t.Ig)(this.autoScrollDisabled),r.autoScrollStep=(0,t.su)(this.autoScrollStep,2),r.connectedTo(h.filter(p=>p&&p!==this).map(p=>p._dropListRef)).withOrientation(this.orientation)})}_handleEvents(r){r.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),r.entered.subscribe(h=>{this.entered.emit({container:this,item:h.item.data,currentIndex:h.currentIndex})}),r.exited.subscribe(h=>{this.exited.emit({container:this,item:h.item.data}),this._changeDetectorRef.markForCheck()}),r.sorted.subscribe(h=>{this.sorted.emit({previousIndex:h.previousIndex,currentIndex:h.currentIndex,container:this,item:h.item.data})}),r.dropped.subscribe(h=>{this.dropped.emit({previousIndex:h.previousIndex,currentIndex:h.currentIndex,previousContainer:h.previousContainer.data,container:h.container.data,item:h.item.data,isPointerOverContainer:h.isPointerOverContainer,distance:h.distance,dropPoint:h.dropPoint,event:h.event}),this._changeDetectorRef.markForCheck()})}_assignDefaults(r){const{lockAxis:h,draggingDisabled:p,sortingDisabled:m,listAutoScrollDisabled:v,listOrientation:w}=r;this.disabled=p??!1,this.sortingDisabled=m??!1,this.autoScrollDisabled=v??!1,this.orientation=w||"vertical",h&&(this.lockAxis=h)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(r=>r._dragRef))}}return D._dropLists=[],D.\u0275fac=function(r){return new(r||D)(n.Y36(n.SBq),n.Y36(ge),n.Y36(n.sBO),n.Y36(U.mF),n.Y36(O.Is,8),n.Y36(ae,12),n.Y36(Ue,8))},D.\u0275dir=n.lG2({type:D,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,h){2&r&&(n.uIk("id",h.id),n.ekj("cdk-drop-list-disabled",h.disabled)("cdk-drop-list-dragging",h._dropListRef.isDragging())("cdk-drop-list-receiving",h._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[n._Bn([{provide:ae,useValue:void 0},{provide:Me,useExisting:D}])]}),D})();const Le=new n.OlP("CdkDragHandle");let tt=(()=>{class D{constructor(r,h){this.element=r,this._stateChanges=new E.x,this._disabled=!1,this._parentDrag=h}get disabled(){return this._disabled}set disabled(r){this._disabled=(0,t.Ig)(r),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return D.\u0275fac=function(r){return new(r||D)(n.Y36(n.SBq),n.Y36(ye,12))},D.\u0275dir=n.lG2({type:D,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[n._Bn([{provide:Le,useExisting:D}])]}),D})();const Ke=new n.OlP("CdkDragPlaceholder"),je=new n.OlP("CdkDragPreview");let it=(()=>{class D{constructor(r,h,p,m,v,w,F,H,j,X,ue){this.element=r,this.dropContainer=h,this._ngZone=m,this._viewContainerRef=v,this._dir=F,this._changeDetectorRef=j,this._selfHandle=X,this._parentDrag=ue,this._destroyed=new E.x,this.started=new n.vpe,this.released=new n.vpe,this.ended=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.dropped=new n.vpe,this.moved=new x.y(Re=>{const ke=this._dragRef.moved.pipe((0,V.U)(Pe=>({source:this,pointerPosition:Pe.pointerPosition,event:Pe.event,delta:Pe.delta,distance:Pe.distance}))).subscribe(Re);return()=>{ke.unsubscribe()}}),this._dragRef=H.createDrag(r,{dragStartThreshold:w&&null!=w.dragStartThreshold?w.dragStartThreshold:5,pointerDirectionChangeThreshold:w&&null!=w.pointerDirectionChangeThreshold?w.pointerDirectionChangeThreshold:5,zIndex:w?.zIndex}),this._dragRef.data=this,D._dragInstances.push(this),w&&this._assignDefaults(w),h&&(this._dragRef._withDropContainer(h._dropListRef),h.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(r){this._disabled=(0,t.Ig)(r),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(r){this._dragRef.setFreeDragPosition(r)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,k.q)(1),(0,C.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(r){const h=r.rootElementSelector,p=r.freeDragPosition;h&&!h.firstChange&&this._updateRootElement(),p&&!p.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const r=D._dragInstances.indexOf(this);r>-1&&D._dragInstances.splice(r,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const r=this.element.nativeElement;let h=r;this.rootElementSelector&&(h=void 0!==r.closest?r.closest(this.rootElementSelector):r.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(h||r)}_getBoundaryElement(){const r=this.boundaryElement;return r?"string"==typeof r?this.element.nativeElement.closest(r):(0,t.fI)(r):null}_syncInputs(r){r.beforeStarted.subscribe(()=>{if(!r.isDragging()){const h=this._dir,p=this.dragStartDelay,m=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,v=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;r.disabled=this.disabled,r.lockAxis=this.lockAxis,r.dragStartDelay="object"==typeof p&&p?p:(0,t.su)(p),r.constrainPosition=this.constrainPosition,r.previewClass=this.previewClass,r.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(m).withPreviewTemplate(v).withPreviewContainer(this.previewContainer||"global"),h&&r.withDirection(h.value)}}),r.beforeStarted.pipe((0,k.q)(1)).subscribe(()=>{if(this._parentDrag)return void r.withParent(this._parentDrag._dragRef);let h=this.element.nativeElement.parentElement;for(;h;){if(h.classList.contains("cdk-drag")){r.withParent(D._dragInstances.find(p=>p.element.nativeElement===h)?._dragRef||null);break}h=h.parentElement}})}_handleEvents(r){r.started.subscribe(h=>{this.started.emit({source:this,event:h.event}),this._changeDetectorRef.markForCheck()}),r.released.subscribe(h=>{this.released.emit({source:this,event:h.event})}),r.ended.subscribe(h=>{this.ended.emit({source:this,distance:h.distance,dropPoint:h.dropPoint,event:h.event}),this._changeDetectorRef.markForCheck()}),r.entered.subscribe(h=>{this.entered.emit({container:h.container.data,item:this,currentIndex:h.currentIndex})}),r.exited.subscribe(h=>{this.exited.emit({container:h.container.data,item:this})}),r.dropped.subscribe(h=>{this.dropped.emit({previousIndex:h.previousIndex,currentIndex:h.currentIndex,previousContainer:h.previousContainer.data,container:h.container.data,isPointerOverContainer:h.isPointerOverContainer,item:this,distance:h.distance,dropPoint:h.dropPoint,event:h.event})})}_assignDefaults(r){const{lockAxis:h,dragStartDelay:p,constrainPosition:m,previewClass:v,boundaryElement:w,draggingDisabled:F,rootElementSelector:H,previewContainer:j}=r;this.disabled=F??!1,this.dragStartDelay=p||0,h&&(this.lockAxis=h),m&&(this.constrainPosition=m),v&&(this.previewClass=v),w&&(this.boundaryElement=w),H&&(this.rootElementSelector=H),j&&(this.previewContainer=j)}_setupHandlesListener(){this._handles.changes.pipe((0,B.O)(this._handles),(0,A.b)(r=>{const h=r.filter(p=>p._parentDrag===this).map(p=>p.element);this._selfHandle&&this.rootElementSelector&&h.push(this.element),this._dragRef.withHandles(h)}),(0,b.w)(r=>(0,I.T)(...r.map(h=>h._stateChanges.pipe((0,B.O)(h))))),(0,C.R)(this._destroyed)).subscribe(r=>{const h=this._dragRef,p=r.element.nativeElement;r.disabled?h.disableHandle(p):h.enableHandle(p)})}}return D._dragInstances=[],D.\u0275fac=function(r){return new(r||D)(n.Y36(n.SBq),n.Y36(Me,12),n.Y36(S.K0),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(Ue,8),n.Y36(O.Is,8),n.Y36(ge),n.Y36(n.sBO),n.Y36(Le,10),n.Y36(ye,12))},D.\u0275dir=n.lG2({type:D,selectors:[["","cdkDrag",""]],contentQueries:function(r,h,p){if(1&r&&(n.Suo(p,je,5),n.Suo(p,Ke,5),n.Suo(p,Le,5)),2&r){let m;n.iGM(m=n.CRH())&&(h._previewTemplate=m.first),n.iGM(m=n.CRH())&&(h._placeholderTemplate=m.first),n.iGM(m=n.CRH())&&(h._handles=m)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,h){2&r&&n.ekj("cdk-drag-disabled",h.disabled)("cdk-drag-dragging",h._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[n._Bn([{provide:ye,useExisting:D}]),n.TTD]}),D})(),$e=(()=>{class D{}return D.\u0275fac=function(r){return new(r||D)},D.\u0275mod=n.oAB({type:D}),D.\u0275inj=n.cJS({providers:[ge],imports:[U.ZD]}),D})()},3704:(Ce,ie,y)=>{y.d(ie,{FA:()=>_,Mq:()=>h,hl:()=>H,nW:()=>X});var n=y(8954),S=y(8232),U=y(8632),T=y(8692),t=y(4537),L=y(9638),Y=y(5531),R=y(1379),P=y(8023),E=y(4813),G=y(1860),W=y(4945),x=y(5436),I=y(5875),C=y(5598),B=y(1927),V=y(4970),k=y(4929),A=y(6321),b=y(4091),O=y(92),N=y(8659),z=y(7406);const Z=["mat-calendar-body",""];function $(l,u){if(1&l&&(t.TgZ(0,"tr",2)(1,"td",3),t._uU(2),t.qZA()()),2&l){const e=t.oxw();t.xp6(1),t.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),t.uIk("colspan",e.numCols),t.xp6(1),t.hij(" ",e.label," ")}}function q(l,u){if(1&l&&(t.TgZ(0,"td",3),t._uU(1),t.qZA()),2&l){const e=t.oxw(2);t.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),t.uIk("colspan",e._firstRowOffset),t.xp6(1),t.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function se(l,u){if(1&l){const e=t.EpF();t.TgZ(0,"td",7)(1,"button",8),t.NdJ("click",function(c){const M=t.CHM(e).$implicit,K=t.oxw(2);return t.KtG(K._cellClicked(M,c))})("focus",function(c){const M=t.CHM(e).$implicit,K=t.oxw(2);return t.KtG(K._emitActiveDateChange(M,c))}),t.TgZ(2,"div",9),t._uU(3),t.qZA(),t._UZ(4,"div",10),t.qZA()()}if(2&l){const e=u.$implicit,a=u.index,c=t.oxw().index,f=t.oxw();t.Udp("width",f._cellWidth)("padding-top",f._cellPadding)("padding-bottom",f._cellPadding),t.uIk("data-mat-row",c)("data-mat-col",a),t.xp6(1),t.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",f._isActiveCell(c,a))("mat-calendar-body-range-start",f._isRangeStart(e.compareValue))("mat-calendar-body-range-end",f._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",f._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",f._isComparisonBridgeStart(e.compareValue,c,a))("mat-calendar-body-comparison-bridge-end",f._isComparisonBridgeEnd(e.compareValue,c,a))("mat-calendar-body-comparison-start",f._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",f._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",f._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",f._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",f._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",f._isInPreview(e.compareValue)),t.Q6J("ngClass",e.cssClasses)("tabindex",f._isActiveCell(c,a)?0:-1),t.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",f._isSelected(e.compareValue))("aria-current",f.todayValue===e.compareValue?"date":null),t.xp6(1),t.ekj("mat-calendar-body-selected",f._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",f._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",f.todayValue===e.compareValue),t.xp6(1),t.hij(" ",e.displayValue," ")}}function oe(l,u){if(1&l&&(t.TgZ(0,"tr",4),t.YNc(1,q,2,6,"td",5),t.YNc(2,se,5,47,"td",6),t.qZA()),2&l){const e=u.$implicit,a=u.index,c=t.oxw();t.xp6(1),t.Q6J("ngIf",0===a&&c._firstRowOffset),t.xp6(1),t.Q6J("ngForOf",e)}}function Q(l,u){if(1&l&&(t.TgZ(0,"th",5)(1,"span",6),t._uU(2),t.qZA(),t.TgZ(3,"span",7),t._uU(4),t.qZA()()),2&l){const e=u.$implicit;t.xp6(2),t.Oqu(e.long),t.xp6(2),t.Oqu(e.narrow)}}const le=["*"];function ee(l,u){}function de(l,u){if(1&l){const e=t.EpF();t.TgZ(0,"mat-month-view",5),t.NdJ("activeDateChange",function(c){t.CHM(e);const f=t.oxw();return t.KtG(f.activeDate=c)})("_userSelection",function(c){t.CHM(e);const f=t.oxw();return t.KtG(f._dateSelected(c))}),t.qZA()}if(2&l){const e=t.oxw();t.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function ne(l,u){if(1&l){const e=t.EpF();t.TgZ(0,"mat-year-view",6),t.NdJ("activeDateChange",function(c){t.CHM(e);const f=t.oxw();return t.KtG(f.activeDate=c)})("monthSelected",function(c){t.CHM(e);const f=t.oxw();return t.KtG(f._monthSelectedInYearView(c))})("selectedChange",function(c){t.CHM(e);const f=t.oxw();return t.KtG(f._goToDateInView(c,"month"))}),t.qZA()}if(2&l){const e=t.oxw();t.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function De(l,u){if(1&l){const e=t.EpF();t.TgZ(0,"mat-multi-year-view",7),t.NdJ("activeDateChange",function(c){t.CHM(e);const f=t.oxw();return t.KtG(f.activeDate=c)})("yearSelected",function(c){t.CHM(e);const f=t.oxw();return t.KtG(f._yearSelectedInMultiYearView(c))})("selectedChange",function(c){t.CHM(e);const f=t.oxw();return t.KtG(f._goToDateInView(c,"year"))}),t.qZA()}if(2&l){const e=t.oxw();t.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function xe(l,u){}const Ne=["button"];function Qe(l,u){1&l&&(t.O4$(),t.TgZ(0,"svg",3),t._UZ(1,"path",4),t.qZA())}const Ie=[[["","matDatepickerToggleIcon",""]]],He=["[matDatepickerToggleIcon]"];let ce=(()=>{class l{constructor(){this.changes=new P.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,a){return`${e} \u2013 ${a}`}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();class ve{constructor(u,e,a,c,f={},M=u,K){this.value=u,this.displayValue=e,this.ariaLabel=a,this.enabled=c,this.cssClasses=f,this.compareValue=M,this.rawValue=K}}let te=(()=>{class l{constructor(e,a){this._elementRef=e,this._ngZone=a,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new t.vpe,this.previewChange=new t.vpe,this.activeDateChange=new t.vpe,this._enterHandler=c=>{if(this._skipNextFocus&&"focus"===c.type)this._skipNextFocus=!1;else if(c.target&&this.isRange){const f=this._getCellFromElement(c.target);f&&this._ngZone.run(()=>this.previewChange.emit({value:f.enabled?f:null,event:c}))}},this._leaveHandler=c=>{null!==this.previewEnd&&this.isRange&&c.target&&this._getCellFromElement(c.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:c}))},a.runOutsideAngular(()=>{const c=e.nativeElement;c.addEventListener("mouseenter",this._enterHandler,!0),c.addEventListener("focus",this._enterHandler,!0),c.addEventListener("mouseleave",this._leaveHandler,!0),c.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,a){e.enabled&&this.selectedValueChange.emit({value:e.value,event:a})}_emitActiveDateChange(e,a){e.enabled&&this.activeDateChange.emit({value:e.value,event:a})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const a=e.numCols,{rows:c,numCols:f}=this;(e.rows||a)&&(this._firstRowOffset=c&&c.length&&c[0].length?f-c[0].length:0),(e.cellAspectRatio||a||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/f+"%"),(a||!this._cellWidth)&&(this._cellWidth=100/f+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,a){let c=e*this.numCols+a;return e&&(c-=this._firstRowOffset),c==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,C.q)(1)).subscribe(()=>{setTimeout(()=>{const a=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");a&&(e||(this._skipNextFocus=!0),a.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return we(e,this.startValue,this.endValue)}_isRangeEnd(e){return be(e,this.startValue,this.endValue)}_isInRange(e){return Ee(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return we(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,a,c){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let f=this.rows[a][c-1];if(!f){const M=this.rows[a-1];f=M&&M[M.length-1]}return f&&!this._isRangeEnd(f.compareValue)}_isComparisonBridgeEnd(e,a,c){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let f=this.rows[a][c+1];if(!f){const M=this.rows[a+1];f=M&&M[0]}return f&&!this._isRangeStart(f.compareValue)}_isComparisonEnd(e){return be(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return Ee(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return we(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return be(e,this.previewStart,this.previewEnd)}_isInPreview(e){return Ee(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let a;if(Se(e)?a=e:Se(e.parentNode)&&(a=e.parentNode),a){const c=a.getAttribute("data-mat-row"),f=a.getAttribute("data-mat-col");if(c&&f)return this.rows[parseInt(c)][parseInt(f)]}return null}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.SBq),t.Y36(t.R0b))},l.\u0275cmp=t.Xpm({type:l,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[t.TTD],attrs:Z,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,a){1&e&&(t.YNc(0,$,3,6,"tr",0),t.YNc(1,oe,3,2,"tr",1)),2&e&&(t.Q6J("ngIf",a._firstRowOffset<a.labelMinRequiredCells),t.xp6(1),t.Q6J("ngForOf",a.rows))},dependencies:[T.mk,T.sg,T.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),l})();function Se(l){return"TD"===l.nodeName}function we(l,u,e){return null!==e&&u!==e&&l<e&&l===u}function be(l,u,e){return null!==u&&u!==e&&l>=u&&l===e}function Ee(l,u,e,a){return a&&null!==u&&null!==e&&u!==e&&l>=u&&l<=e}class re{constructor(u,e){this.start=u,this.end=e}}let he=(()=>{class l{constructor(e,a){this.selection=e,this._adapter=a,this._selectionChanged=new P.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,a){const c=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:a,oldValue:c})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return l.\u0275fac=function(e){t.$Z()},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac}),l})(),rt=(()=>{class l extends he{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new l(this._adapter);return e.updateSelection(this.selection,this),e}}return l.\u0275fac=function(e){return new(e||l)(t.LFG(R._A))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac}),l})();const qe={provide:he,deps:[[new t.FiY,new t.tp0,he],R._A],useFactory:function Xe(l,u){return l||new rt(u)}},Fe=new t.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let ye=(()=>{class l{constructor(e,a,c,f,M){this._changeDetectorRef=e,this._dateFormats=a,this._dateAdapter=c,this._dir=f,this._rangeStrategy=M,this._rerenderSubscription=E.w0.EMPTY,this.selectedChange=new t.vpe,this._userSelection=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const a=this._activeDate,c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(c,this.minDate,this.maxDate),this._hasSameMonthAndYear(a,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof re?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,B.O)(null)).subscribe(()=>this._init())}ngOnChanges(e){const a=e.comparisonStart||e.comparisonEnd;a&&!a.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const a=e.value,c=this._getDateFromDayOfMonth(a);let f,M;this._selected instanceof re?(f=this._getDateInCurrentMonth(this._selected.start),M=this._getDateInCurrentMonth(this._selected.end)):f=M=this._getDateInCurrentMonth(this._selected),(f!==a||M!==a)&&this.selectedChange.emit(c),this._userSelection.emit({value:c,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const c=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(c,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const a=this._activeDate,c=this._isRtl();switch(e.keyCode){case x.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,c?1:-1);break;case x.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,c?-1:1);break;case x.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case x.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case x.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case x.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case x.Ku:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case x.VM:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case x.K5:case x.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case x.hY:return void(null!=this._previewEnd&&!(0,x.Vb)(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(a,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===x.L_||e.keyCode===x.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:a}){if(this._rangeStrategy){const f=this._rangeStrategy.createPreview(a?a.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(f.start),this._previewEnd=this._getCellCompareValue(f.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),a=this._dateAdapter.getDayOfWeekNames("narrow");let f=this._dateAdapter.getDayOfWeekNames("long").map((M,K)=>({long:M,narrow:a[K]}));this._weekdays=f.slice(e).concat(f.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),a=this._dateAdapter.getDateNames();this._weeks=[[]];for(let c=0,f=this._firstWeekOffset;c<e;c++,f++){7==f&&(this._weeks.push([]),f=0);const M=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),c+1),K=this._shouldEnableDate(M),J=this._dateAdapter.format(M,this._dateFormats.display.dateA11yLabel),fe=this.dateClass?this.dateClass(M,"month"):void 0;this._weeks[this._weeks.length-1].push(new ve(c+1,a[c],J,K,fe,this._getCellCompareValue(M),M))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,a){return!(!e||!a||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(a)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(a))}_getCellCompareValue(e){if(e){const a=this._dateAdapter.getYear(e),c=this._dateAdapter.getMonth(e),f=this._dateAdapter.getDate(e);return new Date(a,c,f).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof re?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.sBO),t.Y36(R.sG,8),t.Y36(R._A,8),t.Y36(I.Is,8),t.Y36(Fe,8))},l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-month-view"]],viewQuery:function(e,a){if(1&e&&t.Gf(te,5),2&e){let c;t.iGM(c=t.CRH())&&(a._matCalendarBody=c.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[t.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,a){1&e&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t.YNc(3,Q,5,2,"th",2),t.qZA(),t.TgZ(4,"tr"),t._UZ(5,"th",3),t.qZA()(),t.TgZ(6,"tbody",4),t.NdJ("selectedValueChange",function(f){return a._dateSelected(f)})("activeDateChange",function(f){return a._updateActiveDate(f)})("previewChange",function(f){return a._previewChanged(f)})("keyup",function(f){return a._handleCalendarBodyKeyup(f)})("keydown",function(f){return a._handleCalendarBodyKeydown(f)}),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngForOf",a._weekdays),t.xp6(3),t.Q6J("label",a._monthLabel)("rows",a._weeks)("todayValue",a._todayDate)("startValue",a._rangeStart)("endValue",a._rangeEnd)("comparisonStart",a._comparisonRangeStart)("comparisonEnd",a._comparisonRangeEnd)("previewStart",a._previewStart)("previewEnd",a._previewEnd)("isRange",a._isRange)("labelMinRequiredCells",3)("activeCell",a._dateAdapter.getDate(a.activeDate)-1))},dependencies:[T.sg,te],encapsulation:2,changeDetection:0}),l})(),Ue=(()=>{class l{constructor(e,a,c){this._changeDetectorRef=e,this._dateAdapter=a,this._dir=c,this._rerenderSubscription=E.w0.EMPTY,this.selectedChange=new t.vpe,this.yearSelected=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let a=this._activeDate;const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(c,this.minDate,this.maxDate),lt(this._dateAdapter,a,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof re?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,B.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const a=this._dateAdapter.getYear(this._activeDate)-me(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let c=0,f=[];c<24;c++)f.push(a+c),4==f.length&&(this._years.push(f.map(M=>this._createCellForYear(M))),f=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const a=e.value,c=this._dateAdapter.createDate(a,0,1),f=this._getDateFromYear(a);this.yearSelected.emit(c),this.selectedChange.emit(f)}_updateActiveDate(e){const c=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(c,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const a=this._activeDate,c=this._isRtl();switch(e.keyCode){case x.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,c?1:-1);break;case x.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,c?-1:1);break;case x.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case x.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case x.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-me(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case x.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-me(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case x.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case x.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case x.K5:case x.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===x.L_||e.keyCode===x.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return me(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const a=this._dateAdapter.getMonth(this.activeDate),c=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,a,1));return this._dateAdapter.createDate(e,a,Math.min(this._dateAdapter.getDate(this.activeDate),c))}_createCellForYear(e){const a=this._dateAdapter.createDate(e,0,1),c=this._dateAdapter.getYearName(a),f=this.dateClass?this.dateClass(a,"multi-year"):void 0;return new ve(e,c,c,this._shouldEnableYear(e),f)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let c=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(c)==e;c=this._dateAdapter.addCalendarDays(c,1))if(this.dateFilter(c))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof re){const a=e.start||e.end;a&&(this._selectedYear=this._dateAdapter.getYear(a))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.sBO),t.Y36(R._A,8),t.Y36(I.Is,8))},l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-multi-year-view"]],viewQuery:function(e,a){if(1&e&&t.Gf(te,5),2&e){let c;t.iGM(c=t.CRH())&&(a._matCalendarBody=c.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,a){1&e&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t._UZ(3,"th",2),t.qZA()(),t.TgZ(4,"tbody",3),t.NdJ("selectedValueChange",function(f){return a._yearSelected(f)})("activeDateChange",function(f){return a._updateActiveDate(f)})("keyup",function(f){return a._handleCalendarBodyKeyup(f)})("keydown",function(f){return a._handleCalendarBodyKeydown(f)}),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("rows",a._years)("todayValue",a._todayYear)("startValue",a._selectedYear)("endValue",a._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._getActiveCell()))},dependencies:[te],encapsulation:2,changeDetection:0}),l})();function lt(l,u,e,a,c){const f=l.getYear(u),M=l.getYear(e),K=Me(l,a,c);return Math.floor((f-K)/24)===Math.floor((M-K)/24)}function me(l,u,e,a){return function ze(l,u){return(l%u+u)%u}(l.getYear(u)-Me(l,e,a),24)}function Me(l,u,e){let a=0;return e?a=l.getYear(e)-24+1:u&&(a=l.getYear(u)),a}let Le=(()=>{class l{constructor(e,a,c,f){this._changeDetectorRef=e,this._dateFormats=a,this._dateAdapter=c,this._dir=f,this._rerenderSubscription=E.w0.EMPTY,this.selectedChange=new t.vpe,this.monthSelected=new t.vpe,this.activeDateChange=new t.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let a=this._activeDate;const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(c,this.minDate,this.maxDate),this._dateAdapter.getYear(a)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof re?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,B.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const a=e.value,c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),a,1);this.monthSelected.emit(c);const f=this._getDateFromMonth(a);this.selectedChange.emit(f)}_updateActiveDate(e){const c=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(c,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const a=this._activeDate,c=this._isRtl();switch(e.keyCode){case x.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,c?1:-1);break;case x.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,c?-1:1);break;case x.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case x.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case x.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case x.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case x.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case x.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case x.K5:case x.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===x.L_||e.keyCode===x.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(a=>a.map(c=>this._createCellForMonth(c,e[c]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),c=this._dateAdapter.getNumDaysInMonth(a);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),c))}_createCellForMonth(e,a){const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),f=this._dateAdapter.format(c,this._dateFormats.display.monthYearA11yLabel),M=this.dateClass?this.dateClass(c,"year"):void 0;return new ve(e,a.toLocaleUpperCase(),f,this._shouldEnableMonth(e),M)}_shouldEnableMonth(e){const a=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(a,e)||this._isYearAndMonthBeforeMinDate(a,e))return!1;if(!this.dateFilter)return!0;for(let f=this._dateAdapter.createDate(a,e,1);this._dateAdapter.getMonth(f)==e;f=this._dateAdapter.addCalendarDays(f,1))if(this.dateFilter(f))return!0;return!1}_isYearAndMonthAfterMaxDate(e,a){if(this.maxDate){const c=this._dateAdapter.getYear(this.maxDate),f=this._dateAdapter.getMonth(this.maxDate);return e>c||e===c&&a>f}return!1}_isYearAndMonthBeforeMinDate(e,a){if(this.minDate){const c=this._dateAdapter.getYear(this.minDate),f=this._dateAdapter.getMonth(this.minDate);return e<c||e===c&&a<f}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof re?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.sBO),t.Y36(R.sG,8),t.Y36(R._A,8),t.Y36(I.Is,8))},l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-year-view"]],viewQuery:function(e,a){if(1&e&&t.Gf(te,5),2&e){let c;t.iGM(c=t.CRH())&&(a._matCalendarBody=c.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,a){1&e&&(t.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),t._UZ(3,"th",2),t.qZA()(),t.TgZ(4,"tbody",3),t.NdJ("selectedValueChange",function(f){return a._monthSelected(f)})("activeDateChange",function(f){return a._updateActiveDate(f)})("keyup",function(f){return a._handleCalendarBodyKeyup(f)})("keydown",function(f){return a._handleCalendarBodyKeydown(f)}),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("label",a._yearLabel)("rows",a._months)("todayValue",a._todayMonth)("startValue",a._selectedMonth)("endValue",a._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._dateAdapter.getMonth(a.activeDate)))},dependencies:[te],encapsulation:2,changeDetection:0}),l})(),tt=0,Ke=(()=>{class l{constructor(e,a,c,f,M){this._intl=e,this.calendar=a,this._dateAdapter=c,this._dateFormats=f,this._buttonDescriptionId="mat-calendar-button-"+tt++,this.calendar.stateChanges.subscribe(()=>M.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const a=this._dateAdapter.getYear(this.calendar.activeDate)-me(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),c=a+24-1,f=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1)),M=this._dateAdapter.getYearName(this._dateAdapter.createDate(c,0,1));return this._intl.formatYearRange(f,M)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,a){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(a)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(a):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(a):lt(this._dateAdapter,e,a,this.calendar.minDate,this.calendar.maxDate)}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(ce),t.Y36((0,t.Gpc)(()=>Ze)),t.Y36(R._A,8),t.Y36(R.sG,8),t.Y36(t.sBO))},l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:le,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,a){1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return a.currentPeriodClicked()}),t.TgZ(3,"span"),t._uU(4),t.qZA(),t.O4$(),t.TgZ(5,"svg",3),t._UZ(6,"polygon",4),t.qZA()(),t.kcU(),t._UZ(7,"div",5),t.Hsn(8),t.TgZ(9,"button",6),t.NdJ("click",function(){return a.previousClicked()}),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return a.nextClicked()}),t.qZA()()()),2&e&&(t.xp6(2),t.uIk("aria-label",a.periodButtonLabel)("aria-describedby",a._buttonDescriptionId),t.xp6(1),t.uIk("id",a._buttonDescriptionId),t.xp6(1),t.Oqu(a.periodButtonText),t.xp6(1),t.ekj("mat-calendar-invert","month"!==a.calendar.currentView),t.xp6(4),t.Q6J("disabled",!a.previousEnabled()),t.uIk("aria-label",a.prevButtonLabel),t.xp6(1),t.Q6J("disabled",!a.nextEnabled()),t.uIk("aria-label",a.nextButtonLabel))},dependencies:[L.lW],encapsulation:2,changeDetection:0}),l})(),Ze=(()=>{class l{constructor(e,a,c,f){this._dateAdapter=a,this._dateFormats=c,this._changeDetectorRef=f,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new t.vpe,this.yearSelected=new t.vpe,this.monthSelected=new t.vpe,this.viewChanged=new t.vpe(!0),this._userSelection=new t.vpe,this.stateChanges=new P.x,this._intlChanges=e.changes.subscribe(()=>{f.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof re?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const a=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),a&&this.viewChanged.emit(a)}ngAfterContentInit(){this._calendarHeaderPortal=new U.C5(this.headerComponent||Ke),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const a=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,c=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,f=a||c||e.dateFilter;if(f&&!f.firstChange){const M=this._getCurrentViewComponent();M&&(this._changeDetectorRef.detectChanges(),M._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const a=e.value;(this.selected instanceof re||a&&!this._dateAdapter.sameDate(a,this.selected))&&this.selectedChange.emit(a),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,a){this.activeDate=e,this.currentView=a}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(ce),t.Y36(R._A,8),t.Y36(R.sG,8),t.Y36(t.sBO))},l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-calendar"]],viewQuery:function(e,a){if(1&e&&(t.Gf(ye,5),t.Gf(Le,5),t.Gf(Ue,5)),2&e){let c;t.iGM(c=t.CRH())&&(a.monthView=c.first),t.iGM(c=t.CRH())&&(a.yearView=c.first),t.iGM(c=t.CRH())&&(a.multiYearView=c.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[t._Bn([qe]),t.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,a){1&e&&(t.YNc(0,ee,0,0,"ng-template",0),t.TgZ(1,"div",1),t.YNc(2,de,1,8,"mat-month-view",2),t.YNc(3,ne,1,6,"mat-year-view",3),t.YNc(4,De,1,6,"mat-multi-year-view",4),t.qZA()),2&e&&(t.Q6J("cdkPortalOutlet",a._calendarHeaderPortal),t.xp6(1),t.Q6J("ngSwitch",a.currentView),t.xp6(1),t.Q6J("ngSwitchCase","month"),t.xp6(1),t.Q6J("ngSwitchCase","year"),t.xp6(1),t.Q6J("ngSwitchCase","multi-year"))},dependencies:[T.RF,T.n9,n.kH,U.Pl,ye,Le,Ue],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}'],encapsulation:2,changeDetection:0}),l})();const je={transformPanel:(0,b.X$)("transformPanel",[(0,b.eR)("void => enter-dropdown",(0,b.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,b.F4)([(0,b.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,b.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,b.eR)("void => enter-dialog",(0,b.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,b.F4)([(0,b.oB)({opacity:0,transform:"scale(0.7)"}),(0,b.oB)({transform:"none",opacity:1})]))),(0,b.eR)("* => void",(0,b.jt)("100ms linear",(0,b.oB)({opacity:0})))]),fadeInCalendar:(0,b.X$)("fadeInCalendar",[(0,b.SB)("void",(0,b.oB)({opacity:0})),(0,b.SB)("enter",(0,b.oB)({opacity:1})),(0,b.eR)("void => *",(0,b.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let dt=0;const We=new t.OlP("mat-datepicker-scroll-strategy"),$e={provide:We,deps:[S.aV],useFactory:function it(l){return()=>l.scrollStrategies.reposition()}},D=(0,R.pj)(class{constructor(l){this._elementRef=l}});let o=(()=>{class l extends D{constructor(e,a,c,f,M,K){super(e),this._changeDetectorRef=a,this._globalModel=c,this._dateAdapter=f,this._rangeSelectionStrategy=M,this._subscriptions=new E.w0,this._animationDone=new P.x,this._actionsPortal=null,this._closeButtonText=K.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const a=this._model.selection,c=e.value,f=a instanceof re;if(f&&this._rangeSelectionStrategy){const M=this._rangeSelectionStrategy.selectionFinished(c,a,e.event);this._model.updateSelection(M,this)}else c&&(f||!this._dateAdapter.sameDate(c,a))&&this._model.add(c);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,a){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,a&&this._changeDetectorRef.detectChanges()}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(he),t.Y36(R._A),t.Y36(Fe,8),t.Y36(ce))},l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-datepicker-content"]],viewQuery:function(e,a){if(1&e&&t.Gf(Ze,5),2&e){let c;t.iGM(c=t.CRH())&&(a._calendar=c.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,a){1&e&&t.WFA("@transformPanel.done",function(){return a._animationDone.next()}),2&e&&(t.d8E("@transformPanel",a._animationState),t.ekj("mat-datepicker-content-touch",a.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[t.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,a){if(1&e&&(t.TgZ(0,"div",0)(1,"mat-calendar",1),t.NdJ("yearSelected",function(f){return a.datepicker._selectYear(f)})("monthSelected",function(f){return a.datepicker._selectMonth(f)})("viewChanged",function(f){return a.datepicker._viewChanged(f)})("_userSelection",function(f){return a._handleUserSelection(f)}),t.qZA(),t.YNc(2,xe,0,0,"ng-template",2),t.TgZ(3,"button",3),t.NdJ("focus",function(){return a._closeButtonFocused=!0})("blur",function(){return a._closeButtonFocused=!1})("click",function(){return a.datepicker.close()}),t._uU(4),t.qZA()()),2&e){let c;t.ekj("mat-datepicker-content-container-with-custom-header",a.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",a._actionsPortal),t.uIk("aria-modal",!0)("aria-labelledby",null!==(c=a._dialogLabelId)&&void 0!==c?c:void 0),t.xp6(1),t.Q6J("id",a.datepicker.id)("ngClass",a.datepicker.panelClass)("startAt",a.datepicker.startAt)("startView",a.datepicker.startView)("minDate",a.datepicker._getMinDate())("maxDate",a.datepicker._getMaxDate())("dateFilter",a.datepicker._getDateFilter())("headerComponent",a.datepicker.calendarHeaderComponent)("selected",a._getSelected())("dateClass",a.datepicker.dateClass)("comparisonStart",a.comparisonStart)("comparisonEnd",a.comparisonEnd)("@fadeInCalendar","enter"),t.xp6(1),t.Q6J("cdkPortalOutlet",a._actionsPortal),t.xp6(1),t.ekj("cdk-visually-hidden",!a._closeButtonFocused),t.Q6J("color",a.color||"primary"),t.xp6(1),t.Oqu(a._closeButtonText)}},dependencies:[T.mk,L.lW,n.mK,U.Pl,Ze],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[je.transformPanel,je.fadeInCalendar]},changeDetection:0}),l})(),r=(()=>{class l{constructor(e,a,c,f,M,K,J){this._overlay=e,this._ngZone=a,this._viewContainerRef=c,this._dateAdapter=M,this._dir=K,this._model=J,this._inputStateChanges=E.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new t.vpe,this.monthSelected=new t.vpe,this.viewChanged=new t.vpe(!0),this.openedStream=new t.vpe,this.closedStream=new t.vpe,this._opened=!1,this.id="mat-datepicker-"+dt++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new P.x,this._scrollStrategy=f}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=(0,k.Ig)(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const a=(0,k.Ig)(e);a!==this._disabled&&(this._disabled=a,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=(0,k.Ig)(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=(0,k.du)(e)}get opened(){return this._opened}set opened(e){(0,k.Ig)(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const a=e.xPosition||e.yPosition;if(a&&!a.firstChange&&this._overlayRef){const c=this._overlayRef.getConfig().positionStrategy;c instanceof S._G&&(this._setConnectedPositions(c),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,A.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const a=this._componentRef.instance;a._startExitAnimation(),a._animationDone.pipe((0,C.q)(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,a=new U.C5(o,this._viewContainerRef),c=this._overlayRef=this._overlay.create(new S.X_({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(c).subscribe(f=>{f&&f.preventDefault(),this.close()}),c.keydownEvents().subscribe(f=>{const M=f.keyCode;(M===x.LH||M===x.JH||M===x.oh||M===x.SV||M===x.Ku||M===x.VM)&&f.preventDefault()}),this._componentRef=c.attach(a),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe((0,C.q)(1)).subscribe(()=>c.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const a="end"===this.xPosition?"end":"start",c="start"===a?"end":"start",f="above"===this.yPosition?"bottom":"top",M="top"===f?"bottom":"top";return e.withPositions([{originX:a,originY:M,overlayX:a,overlayY:f},{originX:a,originY:f,overlayX:a,overlayY:M},{originX:c,originY:M,overlayX:c,overlayY:f},{originX:c,originY:f,overlayX:c,overlayY:M}])}_getCloseStream(e){return(0,G.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe((0,V.h)(a=>a.keyCode===x.hY&&!(0,x.Vb)(a)||this.datepickerInput&&(0,x.Vb)(a,"altKey")&&a.keyCode===x.LH)))}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(S.aV),t.Y36(t.R0b),t.Y36(t.s_b),t.Y36(We),t.Y36(R._A,8),t.Y36(I.Is,8),t.Y36(he))},l.\u0275dir=t.lG2({type:l,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[t.TTD]}),l})(),h=(()=>{class l extends r{}return l.\u0275fac=function(){let u;return function(a){return(u||(u=t.n5z(l)))(a||l)}}(),l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[t._Bn([qe,{provide:r,useExisting:l}]),t.qOj],decls:0,vars:0,template:function(e,a){},encapsulation:2,changeDetection:0}),l})();class p{constructor(u,e){this.target=u,this.targetElement=e,this.value=this.target.value}}let m=(()=>{class l{constructor(e,a,c){this._elementRef=e,this._dateAdapter=a,this._dateFormats=c,this.dateChange=new t.vpe,this.dateInput=new t.vpe,this.stateChanges=new P.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=E.w0.EMPTY,this._localeSubscription=E.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=f=>{const M=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value));return!M||this._matchesFilter(M)?null:{matDatepickerFilter:!0}},this._minValidator=f=>{const M=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value)),K=this._getMinDate();return!K||!M||this._dateAdapter.compareDate(K,M)<=0?null:{matDatepickerMin:{min:K,actual:M}}},this._maxValidator=f=>{const M=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(f.value)),K=this._getMaxDate();return!K||!M||this._dateAdapter.compareDate(K,M)>=0?null:{matDatepickerMax:{max:K,actual:M}}},this._lastValueValid=!1,this._localeSubscription=a.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const a=(0,k.Ig)(e),c=this._elementRef.nativeElement;this._disabled!==a&&(this._disabled=a,this.stateChanges.next(void 0)),a&&this._isInitialized&&c.blur&&c.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(a=>{if(this._shouldHandleChangeEvent(a)){const c=this._getValueFromModel(a.selection);this._lastValueValid=this._isValidValue(c),this._cvaOnChange(c),this._onTouched(),this._formatValue(c),this.dateInput.emit(new p(this,this._elementRef.nativeElement)),this.dateChange.emit(new p(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function v(l,u){const e=Object.keys(l);for(let a of e){const{previousValue:c,currentValue:f}=l[a];if(!u.isDateInstance(c)||!u.isDateInstance(f))return!0;if(!u.sameDate(c,f))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&e.keyCode===x.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const a=this._lastValueValid;let c=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(c),c=this._dateAdapter.getValidDateOrNull(c);const f=!this._dateAdapter.sameDate(c,this.value);!c||f?this._cvaOnChange(c):(e&&!this.value&&this._cvaOnChange(c),a!==this._lastValueValid&&this._validatorOnChange()),f&&(this._assignValue(c),this.dateInput.emit(new p(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new p(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const a=this._getDateFilter();return!a||a(e)}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.SBq),t.Y36(R._A,8),t.Y36(R.sG,8))},l.\u0275dir=t.lG2({type:l,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[t.TTD]}),l})();const w={provide:O.JU,useExisting:(0,t.Gpc)(()=>H),multi:!0},F={provide:O.Cf,useExisting:(0,t.Gpc)(()=>H),multi:!0};let H=(()=>{class l extends m{constructor(e,a,c,f){super(e,a,c),this._formField=f,this._closedSubscription=E.w0.EMPTY,this._validator=O.kI.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(a,this._min)||(this._min=a,this._validatorOnChange())}get max(){return this._max}set max(e){const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(a,this._max)||(this._max=a,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const a=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==a&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(t.SBq),t.Y36(R._A,8),t.Y36(R.sG,8),t.Y36(N.G_,8))},l.\u0275dir=t.lG2({type:l,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,a){1&e&&t.NdJ("input",function(f){return a._onInput(f.target.value)})("change",function(){return a._onChange()})("blur",function(){return a._onBlur()})("keydown",function(f){return a._onKeydown(f)}),2&e&&(t.Ikx("disabled",a.disabled),t.uIk("aria-haspopup",a._datepicker?"dialog":null)("aria-owns",(null==a._datepicker?null:a._datepicker.opened)&&a._datepicker.id||null)("min",a.min?a._dateAdapter.toIso8601(a.min):null)("max",a.max?a._dateAdapter.toIso8601(a.max):null)("data-mat-calendar",a._datepicker?a._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[t._Bn([w,F,{provide:z.Jk,useExisting:l}]),t.qOj]}),l})(),j=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275dir=t.lG2({type:l,selectors:[["","matDatepickerToggleIcon",""]]}),l})(),X=(()=>{class l{constructor(e,a,c){this._intl=e,this._changeDetectorRef=a,this._stateChanges=E.w0.EMPTY;const f=Number(c);this.tabIndex=f||0===f?f:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=(0,k.Ig)(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:(0,W.of)(),a=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,W.of)(),c=this.datepicker?(0,G.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,W.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,G.T)(this._intl.changes,e,a,c).subscribe(()=>this._changeDetectorRef.markForCheck())}}return l.\u0275fac=function(e){return new(e||l)(t.Y36(ce),t.Y36(t.sBO),t.$8M("tabindex"))},l.\u0275cmp=t.Xpm({type:l,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,a,c){if(1&e&&t.Suo(c,j,5),2&e){let f;t.iGM(f=t.CRH())&&(a._customIcon=f.first)}},viewQuery:function(e,a){if(1&e&&t.Gf(Ne,5),2&e){let c;t.iGM(c=t.CRH())&&(a._button=c.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,a){1&e&&t.NdJ("click",function(f){return a._open(f)}),2&e&&(t.uIk("tabindex",null)("data-mat-calendar",a.datepicker?a.datepicker.id:null),t.ekj("mat-datepicker-toggle-active",a.datepicker&&a.datepicker.opened)("mat-accent",a.datepicker&&"accent"===a.datepicker.color)("mat-warn",a.datepicker&&"warn"===a.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[t.TTD],ngContentSelectors:He,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,a){1&e&&(t.F$t(Ie),t.TgZ(0,"button",0,1),t.YNc(2,Qe,2,0,"svg",2),t.Hsn(3),t.qZA()),2&e&&(t.Q6J("disabled",a.disabled)("disableRipple",a.disableRipple),t.uIk("aria-haspopup",a.datepicker?"dialog":null)("aria-label",a.ariaLabel||a._intl.openCalendarLabel)("tabindex",a.disabled?-1:a.tabIndex),t.xp6(2),t.Q6J("ngIf",!a._customIcon))},dependencies:[T.O5,L.lW],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),l})(),_=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.oAB({type:l}),l.\u0275inj=t.cJS({providers:[ce,$e],imports:[T.ez,L.ot,S.U8,n.rt,U.eL,R.BQ,Y.ZD]}),l})()},317:(Ce,ie,y)=>{y.d(ie,{ev:()=>v,Dz:()=>D,w1:()=>h,ge:()=>p,fO:()=>o,XQ:()=>j,as:()=>w,Gk:()=>ue,nj:()=>H,BZ:()=>$e,p0:()=>_e});var n=y(4537),S=y(5875),U=y(4929),T=y(5834),t=y(6321),L=y(5531),Y=y(8692),R=y(8023),P=y(7108),E=y(4121),G=y(818),W=y(5975),I=y(4945),C=y(3528),B=y(5598);const V=[[["caption"]],[["colgroup"],["col"]]],k=["caption","colgroup, col"];function O(d){return class extends d{constructor(...g){super(...g),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(g){const s=this._sticky;this._sticky=(0,U.Ig)(g),this._hasStickyChanged=s!==this._sticky}hasStickyChanged(){const g=this._hasStickyChanged;return this._hasStickyChanged=!1,g}resetStickyChanged(){this._hasStickyChanged=!1}}}const N=new n.OlP("CDK_TABLE");let Z=(()=>{class d{constructor(s){this.template=s}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.Rgc))},d.\u0275dir=n.lG2({type:d,selectors:[["","cdkCellDef",""]]}),d})(),$=(()=>{class d{constructor(s){this.template=s}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.Rgc))},d.\u0275dir=n.lG2({type:d,selectors:[["","cdkHeaderCellDef",""]]}),d})(),q=(()=>{class d{constructor(s){this.template=s}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.Rgc))},d.\u0275dir=n.lG2({type:d,selectors:[["","cdkFooterCellDef",""]]}),d})();class se{}const oe=O(se);let Q=(()=>{class d extends oe{constructor(s){super(),this._table=s,this._stickyEnd=!1}get name(){return this._name}set name(s){this._setNameInput(s)}get stickyEnd(){return this._stickyEnd}set stickyEnd(s){const _=this._stickyEnd;this._stickyEnd=(0,U.Ig)(s),this._hasStickyChanged=_!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(s){s&&(this._name=s,this.cssClassFriendlyName=s.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(N,8))},d.\u0275dir=n.lG2({type:d,selectors:[["","cdkColumnDef",""]],contentQueries:function(s,_,l){if(1&s&&(n.Suo(l,Z,5),n.Suo(l,$,5),n.Suo(l,q,5)),2&s){let u;n.iGM(u=n.CRH())&&(_.cell=u.first),n.iGM(u=n.CRH())&&(_.headerCell=u.first),n.iGM(u=n.CRH())&&(_.footerCell=u.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[n._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:d}]),n.qOj]}),d})();class le{constructor(g,s){s.nativeElement.classList.add(...g._columnCssClassName)}}let ee=(()=>{class d extends le{constructor(s,_){super(s,_)}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(Q),n.Y36(n.SBq))},d.\u0275dir=n.lG2({type:d,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[n.qOj]}),d})(),ne=(()=>{class d extends le{constructor(s,_){if(super(s,_),1===s._table?._elementRef.nativeElement.nodeType){const l=s._table._elementRef.nativeElement.getAttribute("role");_.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(Q),n.Y36(n.SBq))},d.\u0275dir=n.lG2({type:d,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[n.qOj]}),d})();class De{constructor(){this.tasks=[],this.endTasks=[]}}const xe=new n.OlP("_COALESCED_STYLE_SCHEDULER");let Ne=(()=>{class d{constructor(s){this._ngZone=s,this._currentSchedule=null,this._destroyed=new R.x}schedule(s){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(s)}scheduleEnd(s){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(s)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new De,this._getScheduleObservable().pipe((0,C.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const s=this._currentSchedule;this._currentSchedule=new De;for(const _ of s.tasks)_();for(const _ of s.endTasks)_()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,P.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,B.q)(1))}}return d.\u0275fac=function(s){return new(s||d)(n.LFG(n.R0b))},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac}),d})(),Ie=(()=>{class d{constructor(s,_){this.template=s,this._differs=_}ngOnChanges(s){if(!this._columnsDiffer){const _=s.columns&&s.columns.currentValue||[];this._columnsDiffer=this._differs.find(_).create(),this._columnsDiffer.diff(_)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(s){return this instanceof Te?s.headerCell.template:this instanceof ce?s.footerCell.template:s.cell.template}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.Rgc),n.Y36(n.ZZ4))},d.\u0275dir=n.lG2({type:d,features:[n.TTD]}),d})();class He extends Ie{}const Oe=O(He);let Te=(()=>{class d extends Oe{constructor(s,_,l){super(s,_),this._table=l}ngOnChanges(s){super.ngOnChanges(s)}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.Rgc),n.Y36(n.ZZ4),n.Y36(N,8))},d.\u0275dir=n.lG2({type:d,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[n.qOj,n.TTD]}),d})();class Ge extends Ie{}const nt=O(Ge);let ce=(()=>{class d extends nt{constructor(s,_,l){super(s,_),this._table=l}ngOnChanges(s){super.ngOnChanges(s)}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.Rgc),n.Y36(n.ZZ4),n.Y36(N,8))},d.\u0275dir=n.lG2({type:d,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[n.qOj,n.TTD]}),d})(),ve=(()=>{class d extends Ie{constructor(s,_,l){super(s,_),this._table=l}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.Rgc),n.Y36(n.ZZ4),n.Y36(N,8))},d.\u0275dir=n.lG2({type:d,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[n.qOj]}),d})(),te=(()=>{class d{constructor(s){this._viewContainer=s,d.mostRecentCellOutlet=this}ngOnDestroy(){d.mostRecentCellOutlet===this&&(d.mostRecentCellOutlet=null)}}return d.mostRecentCellOutlet=null,d.\u0275fac=function(s){return new(s||d)(n.Y36(n.s_b))},d.\u0275dir=n.lG2({type:d,selectors:[["","cdkCellOutlet",""]]}),d})(),Se=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,_){1&s&&n.GkF(0,0)},dependencies:[te],encapsulation:2}),d})(),be=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,_){1&s&&n.GkF(0,0)},dependencies:[te],encapsulation:2}),d})(),Ee=(()=>{class d{constructor(s){this.templateRef=s,this._contentClassName="cdk-no-data-row"}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.Rgc))},d.\u0275dir=n.lG2({type:d,selectors:[["ng-template","cdkNoDataRow",""]]}),d})();const re=["top","bottom","left","right"];class he{constructor(g,s,_,l,u=!0,e=!0,a){this._isNativeHtmlTable=g,this._stickCellCss=s,this.direction=_,this._coalescedStyleScheduler=l,this._isBrowser=u,this._needsPositionStickyOnElement=e,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${s}-border-elem-top`,bottom:`${s}-border-elem-bottom`,left:`${s}-border-elem-left`,right:`${s}-border-elem-right`}}clearStickyPositioning(g,s){const _=[];for(const l of g)if(l.nodeType===l.ELEMENT_NODE){_.push(l);for(let u=0;u<l.children.length;u++)_.push(l.children[u])}this._coalescedStyleScheduler.schedule(()=>{for(const l of _)this._removeStickyStyle(l,s)})}updateStickyColumns(g,s,_,l=!0){if(!g.length||!this._isBrowser||!s.some(J=>J)&&!_.some(J=>J))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const u=g[0],e=u.children.length,a=this._getCellWidths(u,l),c=this._getStickyStartColumnPositions(a,s),f=this._getStickyEndColumnPositions(a,_),M=s.lastIndexOf(!0),K=_.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const J="rtl"===this.direction,fe=J?"right":"left",ut=J?"left":"right";for(const Ye of g)for(let pe=0;pe<e;pe++){const _t=Ye.children[pe];s[pe]&&this._addStickyStyle(_t,fe,c[pe],pe===M),_[pe]&&this._addStickyStyle(_t,ut,f[pe],pe===K)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===M?[]:a.slice(0,M+1).map((Ye,pe)=>s[pe]?Ye:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===K?[]:a.slice(K).map((Ye,pe)=>_[pe+K]?Ye:null).reverse()}))})}stickRows(g,s,_){if(!this._isBrowser)return;const l="bottom"===_?g.slice().reverse():g,u="bottom"===_?s.slice().reverse():s,e=[],a=[],c=[];for(let M=0,K=0;M<l.length;M++){if(!u[M])continue;e[M]=K;const J=l[M];c[M]=this._isNativeHtmlTable?Array.from(J.children):[J];const fe=J.getBoundingClientRect().height;K+=fe,a[M]=fe}const f=u.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let M=0;M<l.length;M++){if(!u[M])continue;const K=e[M],J=M===f;for(const fe of c[M])this._addStickyStyle(fe,_,K,J)}"top"===_?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:e,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:e,elements:c})})}updateStickyFooterContainer(g,s){if(!this._isNativeHtmlTable)return;const _=g.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{s.some(l=>!l)?this._removeStickyStyle(_,["bottom"]):this._addStickyStyle(_,"bottom",0,!1)})}_removeStickyStyle(g,s){for(const l of s)g.style[l]="",g.classList.remove(this._borderCellCss[l]);re.some(l=>-1===s.indexOf(l)&&g.style[l])?g.style.zIndex=this._getCalculatedZIndex(g):(g.style.zIndex="",this._needsPositionStickyOnElement&&(g.style.position=""),g.classList.remove(this._stickCellCss))}_addStickyStyle(g,s,_,l){g.classList.add(this._stickCellCss),l&&g.classList.add(this._borderCellCss[s]),g.style[s]=`${_}px`,g.style.zIndex=this._getCalculatedZIndex(g),this._needsPositionStickyOnElement&&(g.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(g){const s={top:100,bottom:10,left:1,right:1};let _=0;for(const l of re)g.style[l]&&(_+=s[l]);return _?`${_}`:""}_getCellWidths(g,s=!0){if(!s&&this._cachedCellWidths.length)return this._cachedCellWidths;const _=[],l=g.children;for(let u=0;u<l.length;u++)_.push(l[u].getBoundingClientRect().width);return this._cachedCellWidths=_,_}_getStickyStartColumnPositions(g,s){const _=[];let l=0;for(let u=0;u<g.length;u++)s[u]&&(_[u]=l,l+=g[u]);return _}_getStickyEndColumnPositions(g,s){const _=[];let l=0;for(let u=g.length;u>0;u--)s[u]&&(_[u]=l,l+=g[u]);return _}}const Be=new n.OlP("CDK_SPL");let ge=(()=>{class d{constructor(s,_){this.viewContainer=s,this.elementRef=_}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.s_b),n.Y36(n.SBq))},d.\u0275dir=n.lG2({type:d,selectors:[["","rowOutlet",""]]}),d})(),ye=(()=>{class d{constructor(s,_){this.viewContainer=s,this.elementRef=_}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.s_b),n.Y36(n.SBq))},d.\u0275dir=n.lG2({type:d,selectors:[["","headerRowOutlet",""]]}),d})(),ae=(()=>{class d{constructor(s,_){this.viewContainer=s,this.elementRef=_}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.s_b),n.Y36(n.SBq))},d.\u0275dir=n.lG2({type:d,selectors:[["","footerRowOutlet",""]]}),d})(),Ae=(()=>{class d{constructor(s,_){this.viewContainer=s,this.elementRef=_}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.s_b),n.Y36(n.SBq))},d.\u0275dir=n.lG2({type:d,selectors:[["","noDataRowOutlet",""]]}),d})(),me=(()=>{class d{constructor(s,_,l,u,e,a,c,f,M,K,J,fe){this._differs=s,this._changeDetectorRef=_,this._elementRef=l,this._dir=e,this._platform=c,this._viewRepeater=f,this._coalescedStyleScheduler=M,this._viewportRuler=K,this._stickyPositioningListener=J,this._ngZone=fe,this._onDestroy=new R.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new n.vpe,this.viewChange=new E.X({start:0,end:Number.MAX_VALUE}),u||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(s){this._trackByFn=s}get dataSource(){return this._dataSource}set dataSource(s){this._dataSource!==s&&this._switchDataSource(s)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(s){this._multiTemplateDataRows=(0,U.Ig)(s),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(s){this._fixedLayout=(0,U.Ig)(s),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((s,_)=>this.trackBy?this.trackBy(_.dataIndex,_.data):_),this._viewportRuler.change().pipe((0,C.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const _=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||_,this._forceRecalculateCellWidths=_,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(s=>{s.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,T.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const s=this._dataDiffer.diff(this._renderRows);if(!s)return this._updateNoDataRow(),void this.contentChanged.next();const _=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(s,_,(l,u,e)=>this._getEmbeddedViewArgs(l.item,e),l=>l.item.data,l=>{1===l.operation&&l.context&&this._renderCellTemplateForItem(l.record.item.rowDef,l.context)}),this._updateRowIndexContext(),s.forEachIdentityChange(l=>{_.get(l.currentIndex).context.$implicit=l.item.data}),this._updateNoDataRow(),this._ngZone&&n.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,B.q)(1),(0,C.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(s){this._customColumnDefs.add(s)}removeColumnDef(s){this._customColumnDefs.delete(s)}addRowDef(s){this._customRowDefs.add(s)}removeRowDef(s){this._customRowDefs.delete(s)}addHeaderRowDef(s){this._customHeaderRowDefs.add(s),this._headerRowDefChanged=!0}removeHeaderRowDef(s){this._customHeaderRowDefs.delete(s),this._headerRowDefChanged=!0}addFooterRowDef(s){this._customFooterRowDefs.add(s),this._footerRowDefChanged=!0}removeFooterRowDef(s){this._customFooterRowDefs.delete(s),this._footerRowDefChanged=!0}setNoDataRow(s){this._customNoDataRow=s}updateStickyHeaderRowStyles(){const s=this._getRenderedRows(this._headerRowOutlet),l=this._elementRef.nativeElement.querySelector("thead");l&&(l.style.display=s.length?"":"none");const u=this._headerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(s,["top"]),this._stickyStyler.stickRows(s,u,"top"),this._headerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyFooterRowStyles(){const s=this._getRenderedRows(this._footerRowOutlet),l=this._elementRef.nativeElement.querySelector("tfoot");l&&(l.style.display=s.length?"":"none");const u=this._footerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(s,["bottom"]),this._stickyStyler.stickRows(s,u,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,u),this._footerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyColumnStyles(){const s=this._getRenderedRows(this._headerRowOutlet),_=this._getRenderedRows(this._rowOutlet),l=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...s,..._,...l],["left","right"]),this._stickyColumnStylesNeedReset=!1),s.forEach((u,e)=>{this._addStickyColumnStyles([u],this._headerRowDefs[e])}),this._rowDefs.forEach(u=>{const e=[];for(let a=0;a<_.length;a++)this._renderRows[a].rowDef===u&&e.push(_[a]);this._addStickyColumnStyles(e,u)}),l.forEach((u,e)=>{this._addStickyColumnStyles([u],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(u=>u.resetStickyChanged())}_getAllRenderRows(){const s=[],_=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let l=0;l<this._data.length;l++){let u=this._data[l];const e=this._getRenderRowsForData(u,l,_.get(u));this._cachedRenderRowsMap.has(u)||this._cachedRenderRowsMap.set(u,new WeakMap);for(let a=0;a<e.length;a++){let c=e[a];const f=this._cachedRenderRowsMap.get(c.data);f.has(c.rowDef)?f.get(c.rowDef).push(c):f.set(c.rowDef,[c]),s.push(c)}}return s}_getRenderRowsForData(s,_,l){return this._getRowDefs(s,_).map(e=>{const a=l&&l.has(e)?l.get(e):[];if(a.length){const c=a.shift();return c.dataIndex=_,c}return{data:s,rowDef:e,dataIndex:_}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Me(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(_=>{this._columnDefsByName.has(_.name),this._columnDefsByName.set(_.name,_)})}_cacheRowDefs(){this._headerRowDefs=Me(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Me(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Me(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const s=this._rowDefs.filter(_=>!_.when);this._defaultRowDef=s[0]}_renderUpdatedColumns(){const s=(e,a)=>e||!!a.getColumnsDiff(),_=this._rowDefs.reduce(s,!1);_&&this._forceRenderDataRows();const l=this._headerRowDefs.reduce(s,!1);l&&this._forceRenderHeaderRows();const u=this._footerRowDefs.reduce(s,!1);return u&&this._forceRenderFooterRows(),_||l||u}_switchDataSource(s){this._data=[],(0,T.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),s||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=s}_observeRenderChanges(){if(!this.dataSource)return;let s;(0,T.Z9)(this.dataSource)?s=this.dataSource.connect(this):function x(d){return!!d&&(d instanceof G.y||(0,W.m)(d.lift)&&(0,W.m)(d.subscribe))}(this.dataSource)?s=this.dataSource:Array.isArray(this.dataSource)&&(s=(0,I.of)(this.dataSource)),this._renderChangeSubscription=s.pipe((0,C.R)(this._onDestroy)).subscribe(_=>{this._data=_||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((s,_)=>this._renderRow(this._headerRowOutlet,s,_)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((s,_)=>this._renderRow(this._footerRowOutlet,s,_)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(s,_){const l=Array.from(_.columns||[]).map(a=>this._columnDefsByName.get(a)),u=l.map(a=>a.sticky),e=l.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(s,u,e,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(s){const _=[];for(let l=0;l<s.viewContainer.length;l++){const u=s.viewContainer.get(l);_.push(u.rootNodes[0])}return _}_getRowDefs(s,_){if(1==this._rowDefs.length)return[this._rowDefs[0]];let l=[];if(this.multiTemplateDataRows)l=this._rowDefs.filter(u=>!u.when||u.when(_,s));else{let u=this._rowDefs.find(e=>e.when&&e.when(_,s))||this._defaultRowDef;u&&l.push(u)}return l}_getEmbeddedViewArgs(s,_){return{templateRef:s.rowDef.template,context:{$implicit:s.data},index:_}}_renderRow(s,_,l,u={}){const e=s.viewContainer.createEmbeddedView(_.template,u,l);return this._renderCellTemplateForItem(_,u),e}_renderCellTemplateForItem(s,_){for(let l of this._getCellTemplates(s))te.mostRecentCellOutlet&&te.mostRecentCellOutlet._viewContainer.createEmbeddedView(l,_);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const s=this._rowOutlet.viewContainer;for(let _=0,l=s.length;_<l;_++){const e=s.get(_).context;e.count=l,e.first=0===_,e.last=_===l-1,e.even=_%2==0,e.odd=!e.even,this.multiTemplateDataRows?(e.dataIndex=this._renderRows[_].dataIndex,e.renderIndex=_):e.index=this._renderRows[_].dataIndex}}_getCellTemplates(s){return s&&s.columns?Array.from(s.columns,_=>{const l=this._columnDefsByName.get(_);return s.extractCellTemplate(l)}):[]}_applyNativeTableSections(){const s=this._document.createDocumentFragment(),_=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const l of _){const u=this._document.createElement(l.tag);u.setAttribute("role","rowgroup");for(const e of l.outlets)u.appendChild(e.elementRef.nativeElement);s.appendChild(u)}this._elementRef.nativeElement.appendChild(s)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const s=(_,l)=>_||l.hasStickyChanged();this._headerRowDefs.reduce(s,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(s,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(s,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new he(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,I.of)()).pipe((0,C.R)(this._onDestroy)).subscribe(_=>{this._stickyStyler.direction=_,this.updateStickyColumnStyles()})}_getOwnDefs(s){return s.filter(_=>!_._table||_._table===this)}_updateNoDataRow(){const s=this._customNoDataRow||this._noDataRow;if(!s)return;const _=0===this._rowOutlet.viewContainer.length;if(_===this._isShowingNoDataRow)return;const l=this._noDataRowOutlet.viewContainer;if(_){const u=l.createEmbeddedView(s.templateRef),e=u.rootNodes[0];1===u.rootNodes.length&&e?.nodeType===this._document.ELEMENT_NODE&&(e.setAttribute("role","row"),e.classList.add(s._contentClassName))}else l.clear();this._isShowingNoDataRow=_}}return d.\u0275fac=function(s){return new(s||d)(n.Y36(n.ZZ4),n.Y36(n.sBO),n.Y36(n.SBq),n.$8M("role"),n.Y36(S.Is,8),n.Y36(Y.K0),n.Y36(t.t4),n.Y36(T.k),n.Y36(xe),n.Y36(L.rL),n.Y36(Be,12),n.Y36(n.R0b,8))},d.\u0275cmp=n.Xpm({type:d,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(s,_,l){if(1&s&&(n.Suo(l,Ee,5),n.Suo(l,Q,5),n.Suo(l,ve,5),n.Suo(l,Te,5),n.Suo(l,ce,5)),2&s){let u;n.iGM(u=n.CRH())&&(_._noDataRow=u.first),n.iGM(u=n.CRH())&&(_._contentColumnDefs=u),n.iGM(u=n.CRH())&&(_._contentRowDefs=u),n.iGM(u=n.CRH())&&(_._contentHeaderRowDefs=u),n.iGM(u=n.CRH())&&(_._contentFooterRowDefs=u)}},viewQuery:function(s,_){if(1&s&&(n.Gf(ge,7),n.Gf(ye,7),n.Gf(ae,7),n.Gf(Ae,7)),2&s){let l;n.iGM(l=n.CRH())&&(_._rowOutlet=l.first),n.iGM(l=n.CRH())&&(_._headerRowOutlet=l.first),n.iGM(l=n.CRH())&&(_._footerRowOutlet=l.first),n.iGM(l=n.CRH())&&(_._noDataRowOutlet=l.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(s,_){2&s&&n.ekj("cdk-table-fixed-layout",_.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[n._Bn([{provide:N,useExisting:d},{provide:T.k,useClass:T.yy},{provide:xe,useClass:Ne},{provide:Be,useValue:null}])],ngContentSelectors:k,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(s,_){1&s&&(n.F$t(V),n.Hsn(0),n.Hsn(1,1),n.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ge,ye,ae,Ae],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),d})();function Me(d,g){return d.concat(Array.from(g))}let tt=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275mod=n.oAB({type:d}),d.\u0275inj=n.cJS({imports:[L.Cl]}),d})();var Ke=y(1379);const Ze=[[["caption"]],[["colgroup"],["col"]]],je=["caption","colgroup, col"];let $e=(()=>{class d extends me{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(s,_){2&s&&n.ekj("mat-table-fixed-layout",_.fixedLayout)},exportAs:["matTable"],features:[n._Bn([{provide:T.k,useClass:T.yy},{provide:me,useExisting:d},{provide:N,useExisting:d},{provide:xe,useClass:Ne},{provide:Be,useValue:null}]),n.qOj],ngContentSelectors:je,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(s,_){1&s&&(n.F$t(Ze),n.Hsn(0),n.Hsn(1,1),n.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[ge,ye,ae,Ae],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),d})(),D=(()=>{class d extends Z{}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275dir=n.lG2({type:d,selectors:[["","matCellDef",""]],features:[n._Bn([{provide:Z,useExisting:d}]),n.qOj]}),d})(),o=(()=>{class d extends ${}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275dir=n.lG2({type:d,selectors:[["","matHeaderCellDef",""]],features:[n._Bn([{provide:$,useExisting:d}]),n.qOj]}),d})(),h=(()=>{class d extends Q{get name(){return this._name}set name(s){this._setNameInput(s)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275dir=n.lG2({type:d,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[n._Bn([{provide:Q,useExisting:d},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:d}]),n.qOj]}),d})(),p=(()=>{class d extends ee{}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275dir=n.lG2({type:d,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[n.qOj]}),d})(),v=(()=>{class d extends ne{}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275dir=n.lG2({type:d,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[n.qOj]}),d})(),w=(()=>{class d extends Te{}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275dir=n.lG2({type:d,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[n._Bn([{provide:Te,useExisting:d}]),n.qOj]}),d})(),H=(()=>{class d extends ve{}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275dir=n.lG2({type:d,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[n._Bn([{provide:ve,useExisting:d}]),n.qOj]}),d})(),j=(()=>{class d extends Se{}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[n._Bn([{provide:Se,useExisting:d}]),n.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,_){1&s&&n.GkF(0,0)},dependencies:[te],encapsulation:2}),d})(),ue=(()=>{class d extends be{}return d.\u0275fac=function(){let g;return function(_){return(g||(g=n.n5z(d)))(_||d)}}(),d.\u0275cmp=n.Xpm({type:d,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[n._Bn([{provide:be,useExisting:d}]),n.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,_){1&s&&n.GkF(0,0)},dependencies:[te],encapsulation:2}),d})(),_e=(()=>{class d{}return d.\u0275fac=function(s){return new(s||d)},d.\u0275mod=n.oAB({type:d}),d.\u0275inj=n.cJS({imports:[tt,Ke.BQ,Ke.BQ]}),d})()},5561:(Ce,ie,y)=>{if(y.d(ie,{Z:()=>t}),!n)var n={map:function(L,Y){var R={};return Y?L.map(function(P,E){return R.index=E,Y.call(R,P)}):L.slice()},naturalOrder:function(L,Y){return L<Y?-1:L>Y?1:0},sum:function(L,Y){var R={};return L.reduce(Y?function(P,E,G){return R.index=G,P+Y.call(R,E)}:function(P,E){return P+E},0)},max:function(L,Y){return Math.max.apply(null,Y?n.map(L,Y):L)}};var S=function(){function P(I,C,B){return(I<<10)+(C<<5)+B}function E(I){var C=[],B=!1;function V(){C.sort(I),B=!0}return{push:function(k){C.push(k),B=!1},peek:function(k){return B||V(),void 0===k&&(k=C.length-1),C[k]},pop:function(){return B||V(),C.pop()},size:function(){return C.length},map:function(k){return C.map(k)},debug:function(){return B||V(),C}}}function G(I,C,B,V,k,A,b){this.r1=I,this.r2=C,this.g1=B,this.g2=V,this.b1=k,this.b2=A,this.histo=b}function W(){this.vboxes=new E(function(I,C){return n.naturalOrder(I.vbox.count()*I.vbox.volume(),C.vbox.count()*C.vbox.volume())})}function x(I,C){if(C.count()){var B=C.r2-C.r1+1,V=C.g2-C.g1+1,k=n.max([B,V,C.b2-C.b1+1]);if(1==C.count())return[C.copy()];var A,b,O,N,z=0,Z=[],$=[];if(k==B)for(A=C.r1;A<=C.r2;A++){for(N=0,b=C.g1;b<=C.g2;b++)for(O=C.b1;O<=C.b2;O++)N+=I[P(A,b,O)]||0;Z[A]=z+=N}else if(k==V)for(A=C.g1;A<=C.g2;A++){for(N=0,b=C.r1;b<=C.r2;b++)for(O=C.b1;O<=C.b2;O++)N+=I[P(b,A,O)]||0;Z[A]=z+=N}else for(A=C.b1;A<=C.b2;A++){for(N=0,b=C.r1;b<=C.r2;b++)for(O=C.g1;O<=C.g2;O++)N+=I[P(b,O,A)]||0;Z[A]=z+=N}return Z.forEach(function(q,se){$[se]=z-q}),function(q){var se,oe,Q,le,ee,de=q+"1",ne=q+"2",De=0;for(A=C[de];A<=C[ne];A++)if(Z[A]>z/2){for(Q=C.copy(),le=C.copy(),ee=(se=A-C[de])<=(oe=C[ne]-A)?Math.min(C[ne]-1,~~(A+oe/2)):Math.max(C[de],~~(A-1-se/2));!Z[ee];)ee++;for(De=$[ee];!De&&Z[ee-1];)De=$[--ee];return Q[ne]=ee,le[de]=Q[ne]+1,[Q,le]}}(k==B?"r":k==V?"g":"b")}}return G.prototype={volume:function(I){return this._volume&&!I||(this._volume=(this.r2-this.r1+1)*(this.g2-this.g1+1)*(this.b2-this.b1+1)),this._volume},count:function(I){var C=this.histo;if(!this._count_set||I){var B,V,k,A=0;for(B=this.r1;B<=this.r2;B++)for(V=this.g1;V<=this.g2;V++)for(k=this.b1;k<=this.b2;k++)A+=C[P(B,V,k)]||0;this._count=A,this._count_set=!0}return this._count},copy:function(){return new G(this.r1,this.r2,this.g1,this.g2,this.b1,this.b2,this.histo)},avg:function(I){var C=this.histo;if(!this._avg||I){var B,V,k,A,b=0,N=0,z=0,Z=0;for(V=this.r1;V<=this.r2;V++)for(k=this.g1;k<=this.g2;k++)for(A=this.b1;A<=this.b2;A++)b+=B=C[P(V,k,A)]||0,N+=B*(V+.5)*8,z+=B*(k+.5)*8,Z+=B*(A+.5)*8;this._avg=b?[~~(N/b),~~(z/b),~~(Z/b)]:[~~(8*(this.r1+this.r2+1)/2),~~(8*(this.g1+this.g2+1)/2),~~(8*(this.b1+this.b2+1)/2)]}return this._avg},contains:function(I){var C=I[0]>>3;return gval=I[1]>>3,bval=I[2]>>3,C>=this.r1&&C<=this.r2&&gval>=this.g1&&gval<=this.g2&&bval>=this.b1&&bval<=this.b2}},W.prototype={push:function(I){this.vboxes.push({vbox:I,color:I.avg()})},palette:function(){return this.vboxes.map(function(I){return I.color})},size:function(){return this.vboxes.size()},map:function(I){for(var C=this.vboxes,B=0;B<C.size();B++)if(C.peek(B).vbox.contains(I))return C.peek(B).color;return this.nearest(I)},nearest:function(I){for(var C,B,V,k=this.vboxes,A=0;A<k.size();A++)((B=Math.sqrt(Math.pow(I[0]-k.peek(A).color[0],2)+Math.pow(I[1]-k.peek(A).color[1],2)+Math.pow(I[2]-k.peek(A).color[2],2)))<C||void 0===C)&&(C=B,V=k.peek(A).color);return V},forcebw:function(){var I=this.vboxes;I.sort(function(k,A){return n.naturalOrder(n.sum(k.color),n.sum(A.color))});var C=I[0].color;C[0]<5&&C[1]<5&&C[2]<5&&(I[0].color=[0,0,0]);var B=I.length-1,V=I[B].color;V[0]>251&&V[1]>251&&V[2]>251&&(I[B].color=[255,255,255])}},{quantize:function(I,C){if(!I.length||C<2||C>256)return!1;var N,z,Z,B=(N=I,Z=new Array(32768),N.forEach(function($){z=P($[0]>>3,$[1]>>3,$[2]>>3),Z[z]=(Z[z]||0)+1}),Z);B.forEach(function(){});var V=function(N,z){var Z,$,q,se=1e6,oe=0,Q=1e6,le=0,ee=1e6,de=0;return N.forEach(function(ne){(Z=ne[0]>>3)<se?se=Z:Z>oe&&(oe=Z),($=ne[1]>>3)<Q?Q=$:$>le&&(le=$),(q=ne[2]>>3)<ee?ee=q:q>de&&(de=q)}),new G(se,oe,Q,le,ee,de,z)}(I,B),k=new E(function(N,z){return n.naturalOrder(N.count(),z.count())});function A(N,z){for(var Z,$=N.size(),q=0;q<1e3;){if($>=z||q++>1e3)return;if((Z=N.pop()).count()){var se=x(B,Z),oe=se[0],Q=se[1];if(!oe)return;N.push(oe),Q&&(N.push(Q),$++)}else N.push(Z),q++}}k.push(V),A(k,.75*C);for(var b=new E(function(N,z){return n.naturalOrder(N.count()*N.volume(),z.count()*z.volume())});k.size();)b.push(k.pop());A(b,C);for(var O=new W;b.size();)O.push(b.pop());return O}}}().quantize,U=function(L){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=L.naturalWidth,this.height=this.canvas.height=L.naturalHeight,this.context.drawImage(L,0,0,this.width,this.height)};U.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var T=function(){};T.prototype.getColor=function(L,Y){return void 0===Y&&(Y=10),this.getPalette(L,5,Y)[0]},T.prototype.getPalette=function(L,Y,R){var P=function(x){var I=x.colorCount,C=x.quality;if(void 0!==I&&Number.isInteger(I)){if(1===I)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");I=Math.max(I,2),I=Math.min(I,20)}else I=10;return(void 0===C||!Number.isInteger(C)||C<1)&&(C=10),{colorCount:I,quality:C}}({colorCount:Y,quality:R}),E=new U(L),G=function(x,I,C){for(var B=x,V=[],k=0,A=void 0,b=void 0,O=void 0,N=void 0,z=void 0;k<I;k+=C)b=B[0+(A=4*k)],O=B[A+1],N=B[A+2],(void 0===(z=B[A+3])||z>=125)&&(b>250&&O>250&&N>250||V.push([b,O,N]));return V}(E.getImageData().data,E.width*E.height,P.quality),W=S(G,P.colorCount);return W?W.palette():null},T.prototype.getColorFromUrl=function(L,Y,R){var P=this,E=document.createElement("img");E.addEventListener("load",function(){var G=P.getPalette(E,5,R);Y(G[0],L)}),E.src=L},T.prototype.getImageData=function(L,Y){var R=new XMLHttpRequest;R.open("GET",L,!0),R.responseType="arraybuffer",R.onload=function(){if(200==this.status){var P=new Uint8Array(this.response);i=P.length;for(var E=new Array(i),G=0;G<P.length;G++)E[G]=String.fromCharCode(P[G]);var W=E.join(""),x=window.btoa(W);Y("data:image/png;base64,"+x)}},R.send()},T.prototype.getColorAsync=function(L,Y,R){var P=this;this.getImageData(L,function(E){var G=document.createElement("img");G.addEventListener("load",function(){var W=P.getPalette(G,5,R);Y(W[0],this)}),G.src=E})};const t=T}}]);