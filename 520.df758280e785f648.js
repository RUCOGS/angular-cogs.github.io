"use strict";(self.webpackChunkrucogs_website=self.webpackChunkrucogs_website||[]).push([[520],{9520:(X,c,o)=>{o.r(c),o.d(c,{UsersPageComponent:()=>f,UsersPageModule:()=>V});var i=o(8692),e=o(4537),U=o(6527),l=o(3178),Z=o(9424),m=o(3331),d=o(2516);let C=(()=>{class r{constructor(t,n){this.elementRef=t,this.contentWidth=null!=n,this.contentWidth&&(this.elementRef.nativeElement.style.width="min(100%, var(--content-width))")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.$8M("mat-tab-content-width"))},r.\u0275dir=e.lG2({type:r,selectors:[["","mat-tab-content-width",""]]}),r})();const B=function(){return{exact:!0}};function A(r,s){if(1&r&&(e.TgZ(0,"a",4,5)(2,"mat-icon"),e._uU(3),e.qZA(),e.TgZ(4,"div",6),e._uU(5),e.qZA()()),2&r){const t=s.$implicit,n=e.MAs(1);e.Q6J("routerLink",t.path)("routerLinkActiveOptions",e.DdM(5,B))("active",n.isActive),e.xp6(3),e.Oqu(t.matIcon),e.xp6(2),e.Oqu(t.label)}}let f=(()=>{class r{constructor(t){this.breakpointManager=t,this.usersTabs=[{matIcon:"person",label:"Users",path:"./"},{matIcon:"assignment_ind",label:"E-Board",path:"./eboard"}]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(U.I))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users-page"]],decls:5,vars:1,consts:[["title","Users"],[1,"background-color-primary",2,"display","flex","flex-direction","row","justify-content","center"],["mat-tab-nav-bar","","color","primary","mat-align-tabs","center","backgroundColor","primary","mat-stretch-tabs","","mat-tab-content-width",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","routerLinkActiveOptions","active",4,"ngFor","ngForOf"],["mat-tab-link","","routerLinkActive","",3,"routerLink","routerLinkActiveOptions","active"],["rla","routerLinkActive"],[2,"margin-left","0.5em"]],template:function(t,n){1&t&&(e._UZ(0,"app-page-header",0),e.TgZ(1,"div",1)(2,"nav",2),e.YNc(3,A,6,6,"a",3),e.qZA()(),e._UZ(4,"router-outlet")),2&t&&(e.xp6(3),e.Q6J("ngForOf",n.usersTabs))},dependencies:[l.lC,l.yS,l.Od,i.sg,Z.q,m.Hw,d.BU,d.Nj,C],styles:[".users-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1em;margin-top:2em;margin-bottom:2em}.paginator[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}.no-results-text[_ngcontent-%COMP%]{text-align:center;margin-bottom:0}"]}),r})();var F=o(7763),O=o(335),g=o(8340),v=o(8239),h=o(3037),y=o(274),T=o(7445),P=o(3535),M=o(5705);function E(r,s){1&r&&e._UZ(0,"app-basic-profile",2),2&r&&e.Q6J("user",s.$implicit)}const I=["*"];let S=(()=>{class r{constructor(){this.users=[]}ngOnInit(){}getUserLink(t){return t.username?`/users/${t.username}`:""}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-profile-grid"]],inputs:{users:"users"},ngContentSelectors:I,decls:3,vars:1,consts:[[1,"app-profile-grid","grid"],[3,"user",4,"ngFor","ngForOf"],[3,"user"]],template:function(t,n){1&t&&(e.F$t(),e.TgZ(0,"div",0),e.YNc(1,E,1,1,"app-basic-profile",1),e.Hsn(2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.users))},dependencies:[i.sg,M.u],styles:[".grid[_ngcontent-%COMP%]{display:grid;align-items:stretch;gap:1em;justify-content:center;width:100%}"]}),r})();function L(r,s){1&r&&(e.TgZ(0,"div")(1,"div",7),e._UZ(2,"div",8),e.TgZ(3,"div",9),e._uU(4,"_ _ _ "),e.qZA(),e.TgZ(5,"div",9),e._uU(6,"_ _ _ "),e.qZA()()())}const Q=function(){return[]};function $(r,s){1&r&&(e.TgZ(0,"app-profile-grid"),e.YNc(1,L,7,0,"div",6),e.qZA()),2&r&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,Q).constructor(21)))}function N(r,s){1&r&&(e.TgZ(0,"div")(1,"h2",10),e._uU(2,"No results found..."),e.qZA()())}let G=(()=>{class r extends h.N3{constructor(){var t;super(...arguments),t=this,this.valuesPerPage=21,this._filteredValuesQuery=function(){var n=(0,v.Z)(function*(a,u,p){const x=yield(0,T.z)(t.backend.withAuth().query({query:y.Ps`
        query DisplayUsers($filter: UserFilterInput, $limit: Int, $skip: Int, $sorts: [UserSortInput!]) {
          users(filter: $filter, limit: $limit, skip: $skip, sorts: $sorts) {
            avatarLink
            displayName
            username
          }
        }
      `,variables:{skip:u,limit:p,filter:a,sorts:[{username:"asc"}]}}));return x.error?[]:x.data.users});return function(a,u,p){return n.apply(this,arguments)}}()}get users(){return this.values}set users(t){this.values=t}get usersQuery(){return this.filteredValuesQuery}set usersQuery(t){this.filteredValuesQuery=t}getFilter(){return this.filterHeader?{...this.filterHeader.searchText&&{or_:[{username:{startsWith:this.filterHeader.searchText,mode:"INSENSITIVE"}},{displayName:{startsWith:this.filterHeader.searchText,mode:"INSENSITIVE"}}]}}:{}}}return r.\u0275fac=function(){let s;return function(n){return(s||(s=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users-display"]],inputs:{users:"users",usersQuery:"usersQuery"},features:[e.qOj],decls:7,vars:3,consts:[["searchBar",""],[1,"app-users-display","users-container"],["usersContainer",""],[3,"users"],[4,"ngIf"],[2,"display","flex"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","gap","0.5em"],[1,"loading",2,"height","8em","width","8em","border-radius","50%"],[1,"loading",2,"width","8em"],[1,"text-disabled"]],template:function(t,n){1&t&&(e._UZ(0,"app-filter-header",0),e.TgZ(1,"div",1,2),e._UZ(3,"app-profile-grid",3),e.YNc(4,$,2,2,"app-profile-grid",4),e._UZ(5,"div",5),e.YNc(6,N,3,0,"div",4),e.qZA()),2&t&&(e.xp6(3),e.Q6J("users",n.users),e.xp6(1),e.Q6J("ngIf",!n.loaded),e.xp6(2),e.Q6J("ngIf",n.loaded&&0===n.users.length))},dependencies:[i.sg,i.O5,P.B,S]}),r})(),k=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-users-tab"]],decls:2,vars:0,consts:[["full-width",""]],template:function(t,n){1&t&&(e.TgZ(0,"app-section",0),e._UZ(1,"app-users-display"),e.qZA())},dependencies:[g.e,G]}),r})();var D=o(3556),J=o(3223),z=o(398),b=o(6438);function j(r,s){if(1&r&&(e.TgZ(0,"div",5)(1,"a",6)(2,"div",7),e._UZ(3,"app-avatar",8)(4,"app-avatar",9),e.qZA(),e.TgZ(5,"h2",10),e._uU(6),e.qZA(),e.TgZ(7,"p",11),e._uU(8),e.qZA(),e._UZ(9,"app-roles-display",12),e.qZA()()),2&r){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.MGl("routerLink","/users/",null==t||null==t.eBoard||null==t.eBoard.user?null:t.eBoard.user.username,""),e.xp6(2),e.Q6J("avatarSrc",n.cdn.getFileLink(null==t||null==t.eBoard?null:t.eBoard.avatarLink)),e.xp6(1),e.Q6J("avatarSrc",n.cdn.getFileLink(null==t||null==t.eBoard||null==t.eBoard.user?null:t.eBoard.user.avatarLink)),e.xp6(2),e.Oqu(null==t||null==t.eBoard||null==t.eBoard.user?null:t.eBoard.user.displayName),e.xp6(2),e.hij("@",null==t||null==t.eBoard||null==t.eBoard.user?null:t.eBoard.user.username,""),e.xp6(1),e.Q6J("roles",n.getEBoardTermRoles(t))("center",!0)}}function w(r,s){if(1&r&&(e.TgZ(0,"div",2)(1,"h1"),e._uU(2),e.qZA(),e._UZ(3,"mat-divider",2),e.TgZ(4,"div",3),e.YNc(5,j,10,7,"div",4),e.qZA()()),2&r){const t=s.$implicit;e.xp6(2),e.AsE("",t.year," - ",t.year+1,""),e.xp6(3),e.Q6J("ngForOf",t.terms)}}let Y=(()=>{class r extends h.Gh{constructor(){var t;super(...arguments),t=this,this.eBoardTermGroups=[],this.valuesPerPage=24,this._valuesQuery=function(){var n=(0,v.Z)(function*(a,u){const p=yield(0,T.z)(t.backend.withAuth().query({query:y.Ps`
        query DisplayEBoardTerms($limit: Int, $skip: Int, $sorts: [EBoardTermSortInput!]) {
          eBoardTerms(limit: $limit, skip: $skip, sorts: $sorts) {
            eBoard {
              id
              avatarLink
              bio
              user {
                id
                avatarLink
                bannerLink
                displayName
                username
              }
            }
            id
            year
            roles {
              roleCode
            }
          }
        }
      `,variables:{skip:a,limit:u,sorts:[{year:"desc"}]}}));return p.error?[]:p.data.eBoardTerms});return function(a,u){return n.apply(this,arguments)}}()}get eBoardTerms(){return this.values}set eBoardTerms(t){this.values=t}get values(){return super.values}set values(t){super.values=t,this.updateEBoardTermGroups()}updateEBoardTermGroups(){this.eBoardTermGroups=[];let t={year:0,terms:[]};for(const n of this.eBoardTerms){if(n.year!==t.year){const a={year:n.year,terms:[]};this.eBoardTermGroups.push(a),t=a}t.terms.push(n)}}getEBoardTermRoles(t){if(!t)return[];const n=t.roles?.map(a=>a?.roleCode);return n?1==n.length?n:n.filter(a=>a!==D.LO.Eboard):[]}}return r.\u0275fac=function(){let s;return function(n){return(s||(s=e.n5z(r)))(n||r)}}(),r.\u0275cmp=e.Xpm({type:r,selectors:[["app-eboard-tab"]],inputs:{eBoardTerms:"eBoardTerms"},features:[e.qOj],decls:2,vars:1,consts:[["full-width",""],["style","margin-bottom: 1em;",4,"ngFor","ngForOf"],[2,"margin-bottom","1em"],[2,"width","100%","display","grid","grid-template-columns","repeat(auto-fit, minmax(16em, 1fr))","align-items","stretch","gap","1em","justify-content","center","width","100%"],["style","\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      ",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","align-items","center"],[1,"eboard-tab","eboard-profile",2,"display","flex","flex-direction","column","align-items","center","width","min-content",3,"routerLink"],[2,"position","relative","width","min-content","margin-bottom","0.5em"],["size","huge",3,"avatarSrc"],["size","small",2,"position","absolute","bottom","0em","right","0em",3,"avatarSrc"],[2,"margin-bottom","0"],[1,"text-disabled",2,"text-overflow","ellipsis","overflow","hidden","margin-bottom","0.5em"],[3,"roles","center"]],template:function(t,n){1&t&&(e.TgZ(0,"app-section",0),e.YNc(1,w,6,3,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.eBoardTermGroups))},dependencies:[l.yS,i.sg,g.e,J.A,z.l,b.d],styles:[".eboard-profile[_ngcontent-%COMP%]{transition:transform .1s ease-out;transform:none;color:inherit;text-decoration:inherit}.eboard-profile[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.eboard-profile[_ngcontent-%COMP%]:active{transform:scale(1.025)}"]}),r})(),_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[i.ez]}),r})();var q=o(5491),H=o(6883);const R=[{path:"",component:f,children:[{path:"",component:k},{path:"eboard",component:Y}]}];let V=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.Bz.forChild(R),i.ez,F.I,O.z,m.Ps,d.Nh,_,q.F,H.U,b.t]}),r})()}}]);